(self.webpackChunkboardbuilder=self.webpackChunkboardbuilder||[]).push([[342],{3342:function(e,t,o){"use strict";o.r(t),o.d(t,{SettingsModule:function(){return C}});var a=o(61116),i=o(47133),l=o(35366),r=o(73501),s=o(98508),c=o(33464),n=o(40936),u=o(77307),d=o(35965),f=o(76710),m=o(96055),g=o(84369),p=o(24311),b=o(12905);function v(e,t){1&e&&l._UZ(0,"app-loading-notice",4)}function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",25),l.NdJ("click",function(t){return l.CHM(e),l.oxw(2).updateHair(null),t.stopPropagation()}),l.TgZ(1,"mat-icon",26),l._uU(2,"format_color_reset"),l.qZA(),l.qZA()}}function Z(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",27),l.NdJ("click",function(t){return l.CHM(e),l.oxw(2).updateSkin(null),t.stopPropagation()}),l.TgZ(1,"mat-icon",26),l._uU(2,"format_color_reset"),l.qZA(),l.qZA()}}function _(e,t){if(1&e&&(l.ynx(0),l.TgZ(1,"div",28),l.TgZ(2,"strong"),l.SDv(3,29),l.qZA(),l.qZA(),l._UZ(4,"app-adaptable-image",22),l._UZ(5,"app-adaptable-image",22),l.BQk()),2&e){const e=l.oxw(2);l.xp6(4),l.Q6J("adaptable",!0)("cell",e.malePreview)("image",e.malePreview.image_url),l.xp6(1),l.Q6J("adaptable",!0)("cell",e.femalePreview)("image",e.femalePreview.image_url)}}function w(e,t){if(1&e&&(l.TgZ(0,"div"),l.TgZ(1,"small"),l.TgZ(2,"mat-icon",30),l._uU(3,"check"),l.qZA(),l.TgZ(4,"span"),l.SDv(5,31),l.ALo(6,"amTimeAgo"),l.qZA(),l.qZA(),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.Q6J("inline",!0),l.xp6(4),l.pQV(l.lcZ(6,2,e.savedAt)),l.QtT(5)}}function S(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"h3"),l.SDv(2,5),l.qZA(),l.TgZ(3,"p"),l.SDv(4,6),l.qZA(),l.TgZ(5,"p"),l.SDv(6,7),l.qZA(),l.TgZ(7,"p"),l.tHW(8,8),l._UZ(9,"mat-icon",9),l.N_p(),l.qZA(),l.TgZ(10,"div",10),l.TgZ(11,"div"),l.TgZ(12,"div",11),l.TgZ(13,"strong",12),l.SDv(14,13),l.qZA(),l.ynx(15),l.YNc(16,h,3,0,"button",14),l.BQk(),l.qZA(),l.TgZ(17,"app-colour-picker",15),l.NdJ("valueChange",function(t){return l.CHM(e),l.oxw().user.default_hair_colour=t})("valueChange",function(t){return l.CHM(e),l.oxw().updateHair(t)}),l.qZA(),l.TgZ(18,"div",16),l.TgZ(19,"strong",12),l.SDv(20,17),l.qZA(),l.ynx(21),l.YNc(22,Z,3,0,"button",18),l.BQk(),l.qZA(),l.TgZ(23,"app-colour-picker",19),l.NdJ("valueChange",function(t){return l.CHM(e),l.oxw().user.default_skin_colour=t})("valueChange",function(t){return l.CHM(e),l.oxw().updateSkin(t)}),l.qZA(),l.qZA(),l.TgZ(24,"div"),l.TgZ(25,"div",20),l.TgZ(26,"strong"),l.SDv(27,21),l.qZA(),l.qZA(),l._UZ(28,"app-adaptable-image",22),l._UZ(29,"app-adaptable-image",22),l.YNc(30,_,6,6,"ng-container",3),l.qZA(),l.qZA(),l.TgZ(31,"button",23),l.NdJ("click",function(){return l.CHM(e),l.oxw().save()}),l.SDv(32,24),l.qZA(),l.YNc(33,w,7,4,"div",3),l.qZA()}if(2&e){const e=l.oxw();l.xp6(9),l.Q6J("inline",!0),l.xp6(7),l.Q6J("ngIf",e.user.default_hair_colour),l.xp6(1),l.Q6J("value",e.user.default_hair_colour)("width",302)("border",!0),l.xp6(5),l.Q6J("ngIf",e.user.default_skin_colour),l.xp6(1),l.Q6J("value",e.user.default_skin_colour)("width",302)("border",!0),l.xp6(5),l.Q6J("adaptable",!1)("cell",e.malePreview)("image",e.malePreview.image_url),l.xp6(1),l.Q6J("adaptable",!1)("cell",e.femalePreview)("image",e.femalePreview.image_url),l.xp6(1),l.Q6J("ngIf",e.user.default_hair_colour||e.user.default_skin_colour),l.xp6(3),l.Q6J("ngIf",e.savedAt)}}let T=(()=>{class e{constructor(e,t,o){this.userService=e,this.toolbarService=t,this.router=o,this.malePreview=new i.b({image_url:"assets/images/previews/happy-man.svg"}),this.femalePreview=new i.b({image_url:"assets/images/previews/happy-woman.svg"})}ngOnInit(){this.loading=!0,this.userSubscription=this.userService.get().subscribe(e=>{this.user=e,this.loading=!1,this.malePreview.hair_colour=e.default_hair_colour,this.femalePreview.hair_colour=e.default_hair_colour,this.malePreview.skin_colour=e.default_skin_colour,this.femalePreview.skin_colour=e.default_skin_colour}),this.toolbarService.setButtons([{text:"Board Sets",icon:"arrow_back",action:()=>this.router.navigate(["/","boardsets"])}])}ngOnDestroy(){this.toolbarService.clearButtons(),this.userSubscription.unsubscribe()}updateHair(e){this.user.default_hair_colour=e,this.malePreview.hair_colour=e,this.femalePreview.hair_colour=e}updateSkin(e){this.user.default_skin_colour=e,this.malePreview.skin_colour=e,this.femalePreview.skin_colour=e}save(){this.userService.update(this.user).subscribe(e=>{this.savedAt=new Date})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.K),l.Y36(s.O),l.Y36(c.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-page"]],decls:5,vars:2,consts:function(){let e,t,o,a,i,l,r,s,c,n,u,d,f,m;return e="Settings",t="Settings",o="Custom Symbols",a="Some symbols let you customise hair and skin colours.",i="The colours you choose here will be applied to customisable symbols automatically.",l="Customisable symbols will show a " + "\ufffd#9\ufffd" + "emoji_emotions" + "\ufffd/#9\ufffd" + " symbol in search results.",r="Custom Hair Colour",s="Remove Custom Hair Colour",c="Custom Skin Colour",n="Remove Custom Skin Colour",u="Original Symbols",d="Save",f="Customised Symbols",m="Changes saved " + "\ufffd0\ufffd" + "",[[1,"container","mt-3"],e,["subject",t,4,"ngIf"],[4,"ngIf"],["subject",t],o,a,i,l,["color","primary",3,"inline"],["fxLayout","row wrap","fxLayoutGap","50px grid",1,"mb-2"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-1"],[1,"mt-2","mb-2"],r,["mat-icon-button","","matTooltip",s,"matTooltipPosition","left",3,"click",4,"ngIf"],["palette","hair",3,"value","width","border","valueChange"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mt-3","mb-1"],c,["mat-icon-button","","matTooltip",n,"matTooltipPosition","left",3,"click",4,"ngIf"],["palette","skin",3,"value","width","border","valueChange"],[1,"mb-1"],u,[3,"adaptable","cell","image"],["mat-button","","mat-raised-button","","color","primary",1,"mb-2",3,"click"],d,["mat-icon-button","","matTooltip",s,"matTooltipPosition","left",3,"click"],["color","primary"],["mat-icon-button","","matTooltip",n,"matTooltipPosition","left",3,"click"],[1,"mt-2","mb-1"],f,[3,"inline"],m]},template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2"),l.SDv(2,1),l.qZA(),l.YNc(3,v,1,0,"app-loading-notice",2),l.YNc(4,S,34,17,"div",3),l.qZA()),2&e&&(l.xp6(3),l.Q6J("ngIf",t.loading),l.xp6(1),l.Q6J("ngIf",t.user))},directives:[a.O5,n.W,u.Hw,d.xw,d.SQ,d.Wh,f.a,m.y,g.lW,p.gM],pipes:[b.eG],styles:[""]}),e})();var A=o(75425),k=o(19936);const x=[{path:"",component:T,pathMatch:"full"}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.ez,c.Bz.forChild(x),A.m,k.be,g.ot,d.ae,p.AV,u.Ps,b._G]]}),e})()}}]);