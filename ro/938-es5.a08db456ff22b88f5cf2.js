!function(){var e,t,a,o,n,i,r,c,l,d,s,u,b,f,p,m,h,g,k,v,x,y,Z,C,_,w,T,S,A,B,q,M,O,P,I,J,Q,N,D,L,z,$,E,U,F,H,R,Y,j,V,W,G,X,K,ee,te,ae,oe,ne,ie,re,ce,le,de,se,ue,be,fe,pe,me,he,ge,ke,ve,xe,ye,Ze,Ce,_e,we,Te,Se,Ae;function Be(e){return function(e){if(Array.isArray(e))return qe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}function Me(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Oe(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Pe(e,t,a){return t&&Oe(e.prototype,t),a&&Oe(e,a),e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,o=Ne(e);if(t){var n=Ne(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return Qe(this,a)}}function Qe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkboardbuilder=self.webpackChunkboardbuilder||[]).push([[938],{40994:function(e,t,a){"use strict";a.d(t,{oG:function(){return x},p9:function(){return Z}});var o=a(19861),n=a(35366),i=a(31041),r=a(87064),c=a(26136),l=a(27853),d=a(97388),s=["input"],u=function(e){return{enterDuration:e}},b=["*"],f=new n.OlP("mat-checkbox-default-options",{providedIn:"root",factory:p});function p(){return{color:"accent",clickAction:"check-indeterminate"}}var m=0,h={color:"accent",clickAction:"check-indeterminate"},g={provide:i.JU,useExisting:(0,n.Gpc)(function(){return x}),multi:!0},k=function e(){De(this,e)},v=(0,r.sb)((0,r.pj)((0,r.Kr)((0,r.Id)(function e(t){De(this,e),this._elementRef=t})))),x=function(){var e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(a,e);var t=Je(a);function a(e,o,i,r,c,l,d){var s;return De(this,a),(s=t.call(this,e))._changeDetectorRef=o,s._focusMonitor=i,s._ngZone=r,s._animationMode=l,s._options=d,s.ariaLabel="",s.ariaLabelledby=null,s._uniqueId="mat-checkbox-"+ ++m,s.id=s._uniqueId,s.labelPosition="after",s.name=null,s.change=new n.vpe,s.indeterminateChange=new n.vpe,s._onTouched=function(){},s._currentAnimationClass="",s._currentCheckState=0,s._controlValueAccessorChangeFn=function(){},s._checked=!1,s._disabled=!1,s._indeterminate=!1,s._options=s._options||h,s.color=s.defaultColor=s._options.color||h.color,s.tabIndex=parseInt(c)||0,s}return Pe(a,[{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"required",get:function(){return this._required},set:function(e){this._required=(0,o.Ig)(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){t||Promise.resolve().then(function(){e._onTouched(),e._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"checked",get:function(){return this._checked},set:function(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){var t=(0,o.Ig)(e);t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}},{key:"indeterminate",get:function(){return this._indeterminate},set:function(e){var t=e!=this._indeterminate;this._indeterminate=(0,o.Ig)(e),t&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_getAriaChecked",value:function(){return this.checked?"true":this.indeterminate?"mixed":"false"}},{key:"_transitionCheckState",value:function(e){var t=this._currentCheckState,a=this._elementRef.nativeElement;if(t!==e&&(this._currentAnimationClass.length>0&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(t,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);var o=this._currentAnimationClass;this._ngZone.runOutsideAngular(function(){setTimeout(function(){a.classList.remove(o)},1e3)})}}},{key:"_emitChangeEvent",value:function(){var e=new k;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}},{key:"toggle",value:function(){this.checked=!this.checked}},{key:"_onInputClick",value:function(e){var t,a=this,o=null===(t=this._options)||void 0===t?void 0:t.clickAction;e.stopPropagation(),this.disabled||"noop"===o?this.disabled||"noop"!==o||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==o&&Promise.resolve().then(function(){a._indeterminate=!1,a.indeterminateChange.emit(a._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}},{key:"_onInteractionEvent",value:function(e){e.stopPropagation()}},{key:"_getAnimationClassForCheckStateTransition",value:function(e,t){if("NoopAnimations"===this._animationMode)return"";var a="";switch(e){case 0:if(1===t)a="unchecked-checked";else{if(3!=t)return"";a="unchecked-indeterminate"}break;case 2:a=1===t?"unchecked-checked":"unchecked-indeterminate";break;case 1:a=2===t?"checked-unchecked":"checked-indeterminate";break;case 3:a=1===t?"indeterminate-checked":"indeterminate-unchecked"}return"mat-checkbox-anim-".concat(a)}},{key:"_syncIndeterminate",value:function(e){var t=this._inputElement;t&&(t.nativeElement.indeterminate=e)}}]),a}(v);return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(d.tE),n.Y36(n.R0b),n.$8M("tabindex"),n.Y36(c.Qb,8),n.Y36(f,8))},e.\u0275cmp=n.Xpm({type:e,selectors:[["mat-checkbox"]],viewQuery:function(e,t){var a;(1&e&&(n.Gf(s,5),n.Gf(r.wG,5)),2&e)&&(n.iGM(a=n.CRH())&&(t._inputElement=a.first),n.iGM(a=n.CRH())&&(t.ripple=a.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(e,t){2&e&&(n.Ikx("id",t.id),n.uIk("tabindex",null),n.ekj("mat-checkbox-indeterminate",t.indeterminate)("mat-checkbox-checked",t.checked)("mat-checkbox-disabled",t.disabled)("mat-checkbox-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[n._Bn([g]),n.qOj],ngContentSelectors:b,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,t){if(1&e&&(n.F$t(),n.TgZ(0,"label",0,1),n.TgZ(2,"span",2),n.TgZ(3,"input",3,4),n.NdJ("change",function(e){return t._onInteractionEvent(e)})("click",function(e){return t._onInputClick(e)}),n.qZA(),n.TgZ(5,"span",5),n._UZ(6,"span",6),n.qZA(),n._UZ(7,"span",7),n.TgZ(8,"span",8),n.O4$(),n.TgZ(9,"svg",9),n._UZ(10,"path",10),n.qZA(),n.kcU(),n._UZ(11,"span",11),n.qZA(),n.qZA(),n.TgZ(12,"span",12,13),n.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),n.TgZ(14,"span",14),n._uU(15,"\xa0"),n.qZA(),n.Hsn(16),n.qZA(),n.qZA()),2&e){var a=n.MAs(1),o=n.MAs(13);n.uIk("for",t.inputId),n.xp6(2),n.ekj("mat-checkbox-inner-container-no-side-margin",!o.textContent||!o.textContent.trim()),n.xp6(1),n.Q6J("id",t.inputId)("required",t.required)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex),n.uIk("value",t.value)("name",t.name)("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby)("aria-checked",t._getAriaChecked())("aria-describedby",t.ariaDescribedby),n.xp6(2),n.Q6J("matRippleTrigger",a)("matRippleDisabled",t._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",n.VKq(19,u,"NoopAnimations"===t._animationMode?0:150))}},directives:[r.wG,l.wD],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),e}(),y=function(){var e=function e(){De(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({}),e}(),Z=function(){var e=function e(){De(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.si,r.BQ,l.Q8,y],r.BQ,y]}),e}()},18938:function(qe,Oe,Ie){"use strict";Ie.r(Oe),Ie.d(Oe,{BuilderModule:function(){return lo},routes:function(){return co}});var Je=Ie(61116),Qe=Ie(91550),Ne=Ie(73291),Le=Ie(12762),ze=Ie(82051),$e=Ie(92935),Ee=Ie(35366),Ue=Ie(91286),Fe=Ie(69244),He=Ie(35965),Re=Ie(84369),Ye=Ie(79418),je=Ie(77307),Ve=Ie(87672),We=["uploadInput"];function Ge(e,t){1&e&&(Ee.TgZ(0,"p"),Ee.SDv(1,20),Ee.qZA())}function Xe(e,t){1&e&&(Ee.TgZ(0,"p"),Ee.TgZ(1,"em"),Ee.SDv(2,21),Ee.qZA(),Ee.qZA())}function Ke(e,t){1&e&&Ee._UZ(0,"mat-spinner",22)}function et(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,24),Ee.BQk())}function tt(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",23),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw(),Ee.MAs(24).click()}),Ee._uU(1),Ee.YNc(2,et,2,0,"ng-container",7),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.xp6(1),Ee.hij(" ",o.filename," "),Ee.xp6(1),Ee.Q6J("ngIf",!o.filename)}}function at(e,t){if(1&e&&(Ee.TgZ(0,"p",25),Ee.SDv(1,26),Ee.qZA()),2&e){var a=Ee.oxw();Ee.xp6(1),Ee.pQV(a.previewBoard.cells.length)(a.previewBoard.cells.length),Ee.QtT(1)}}function ot(e,t){1&e&&(Ee.TgZ(0,"p",25),Ee.SDv(1,27),Ee.qZA())}var nt=function(e){return e.Idle="Idle",e.FileInvalid="FileInvalid",e.Uploading="Uploading",e.UploadError="UploadError",e}({}),it=function(){var s=function(){function e(t,a,o){De(this,e),this.dialogRef=t,this.data=a,this.boardService=o,this.state=nt.Idle}return Pe(e,[{key:"ngOnInit",value:function(){var e=this;this.reader=new FileReader,this.reader.onload=function(t){try{e.previewBoard=new Qe.$,e.obfBody=JSON.parse(String(e.reader.result)),e.previewBoard.fromObf(e.obfBody)}catch(a){e.previewBoard=null,e.state=nt.FileInvalid}}}},{key:"fileChanged",value:function(e){this.state=nt.Idle,1===e.files.length&&(this.filename=e.files[0].name,this.reader.readAsText(e.files[0]))}},{key:"uploadBoard",value:function(){var e=this;this.state=nt.Uploading,this.boardService.addFromObf(this.obfBody,this.data.boardSet).subscribe(function(t){e.dialogRef.close(t)},function(t){e.state=nt.UploadError,console.log(t)})}}]),e}();return s.\u0275fac=function(e){return new(e||s)(Ee.Y36($e.so),Ee.Y36($e.WI),Ee.Y36(Ue.$))},s.\u0275cmp=Ee.Xpm({type:s,selectors:[["app-obf-upload-dialog"]],viewQuery:function(e,t){var a;(1&e&&Ee.Gf(We,5),2&e)&&(Ee.iGM(a=Ee.CRH())&&(t.uploadInput=a.first))},inputs:{boardSet:"boardSet"},decls:25,vars:9,consts:function(){var s,u,b,f,p,m,h,g;return s="Adaug\u0103 Board de la OBF",u="Ad\u0103uga\u021Bi un consiliu nou import\xE2nd un fi\u0219ier OBF (Open Board Format).",b="Anula",f="Ad\u0103ugare panou",p="Selecta\u021Bi un fi\u0219ier OBF pentru a \xEEncepe.",m="\xCEnc\u0103rcarea\u2026",h="Selecta\u021Bi OBF\u2026",g="{VAR_PLURAL, plural, =1 {celul\u0103} alte {celule}}",g=Ee.Zx4(g,{VAR_PLURAL:"\ufffd1\ufffd"}),[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-3"],["mat-dialog-title","",1,"mb-0"],s,["mat-icon-button","","aria-label","Close","appStopPropagation","",3,"mat-dialog-close"],["mat-dialog-content","",1,"text-center"],u,[4,"ngIf"],["fxLayout","row","fxLayoutAlign","center none"],["diameter","24","style","margin: 0 auto",4,"ngIf"],["mat-stroked-button","","appStopPropagation","",3,"click",4,"ngIf"],["role","alert",4,"ngIf"],["mat-dialog-actions",""],["mat-stroked-button","","color","primary","appStopPropagation","",3,"mat-dialog-close"],b,[1,"spacer"],["mat-raised-button","","color","primary","appStopPropagation","",3,"disabled","click"],f,["type","file","accept",".obf",2,"display","none",3,"change"],["uploadInput",""],p,m,["diameter","24",2,"margin","0 auto"],["mat-stroked-button","","appStopPropagation","",3,"click"],h,["role","alert"],"Am g\u0103sit " + "\ufffd0\ufffd" + " " + g + " \xEEn fi\u0219ierul OBF. ","Fi\u0219ierul pe care l-a\u021Bi furnizat nu este un fi\u0219ier OBF valid."]},template:function(e,t){1&e&&(Ee.TgZ(0,"div",0),Ee.TgZ(1,"header",1),Ee.TgZ(2,"h1",2),Ee.SDv(3,3),Ee.qZA(),Ee.TgZ(4,"button",4),Ee.TgZ(5,"mat-icon"),Ee._uU(6,"close"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(7,"div",5),Ee.TgZ(8,"p"),Ee.SDv(9,6),Ee.qZA(),Ee.YNc(10,Ge,2,0,"p",7),Ee.YNc(11,Xe,3,0,"p",7),Ee.TgZ(12,"div",8),Ee.YNc(13,Ke,1,0,"mat-spinner",9),Ee.YNc(14,tt,3,2,"button",10),Ee.qZA(),Ee.YNc(15,at,2,2,"p",11),Ee.YNc(16,ot,2,0,"p",11),Ee.qZA(),Ee.TgZ(17,"div",12),Ee.TgZ(18,"button",13),Ee.SDv(19,14),Ee.qZA(),Ee._UZ(20,"span",15),Ee.TgZ(21,"button",16),Ee.NdJ("click",function(){return t.uploadBoard()}),Ee.SDv(22,17),Ee.qZA(),Ee.qZA(),Ee.TgZ(23,"input",18,19),Ee.NdJ("change",function(e){return t.fileChanged(e.target)}),Ee.qZA(),Ee.qZA()),2&e&&(Ee.xp6(4),Ee.Q6J("mat-dialog-close",!1),Ee.xp6(6),Ee.Q6J("ngIf","Uploading"!==t.state),Ee.xp6(1),Ee.Q6J("ngIf","Uploading"===t.state),Ee.xp6(2),Ee.Q6J("ngIf","Uploading"===t.state),Ee.xp6(1),Ee.Q6J("ngIf","Uploading"!==t.state),Ee.xp6(1),Ee.Q6J("ngIf",t.previewBoard),Ee.xp6(1),Ee.Q6J("ngIf","FileInvalid"===t.state),Ee.xp6(2),Ee.Q6J("mat-dialog-close",!1),Ee.xp6(3),Ee.Q6J("disabled",!t.previewBoard||"Uploading"===t.state))},directives:[Fe.Zt,He.xw,He.Wh,$e.uh,Re.lW,Ye._,$e.ZT,je.Hw,$e.xY,Je.O5,$e.H8,Ve.$g],styles:[""]}),s}(),rt=Ie(74703);function ct(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,9),Ee.BQk())}function lt(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,10),Ee.BQk())}function dt(e,t){if(1&e&&(Ee.TgZ(0,"div",11),Ee._UZ(1,"app-board-editor-form",12),Ee.qZA()),2&e){var a=Ee.oxw();Ee.xp6(1),Ee.Q6J("board",a.data.board)}}function st(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,13),Ee.BQk())}function ut(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,14),Ee.BQk())}var bt=function(){var e=function(){function e(t,a){De(this,e),this.data=t,this.service=a,this.boardChange=new Ee.vpe}return Pe(e,[{key:"ngOnInit",value:function(){var e=this;this.service.templates().subscribe(function(t){return e.templates=t})}},{key:"selectTemplate",value:function(e){this.data.board.rows=e.board.rows,this.data.board.columns=e.board.columns,this.data.board.captions_position=e.board.captions_position,this.data.board.populateCells()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36($e.WI),Ee.Y36(Ue.$))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-board-editor"]],inputs:{board:"board"},outputs:{boardChange:"boardChange"},decls:14,vars:7,consts:function(){return[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-3"],["mat-dialog-title","",1,"mb-0"],[4,"ngIf"],["mat-icon-button","","aria-label","\xEEnchide","appStopPropagation","",3,"mat-dialog-close"],["mat-dialog-content","",4,"ngIf"],["mat-dialog-actions",""],[1,"spacer"],["mat-raised-button","","color","primary","appStopPropagation","","cdkFocusInitial","",3,"mat-dialog-close"],"Propriet\u0103\u021Bi bord","Ad\u0103ugare panou",["mat-dialog-content",""],[3,"board"],"F\u0103cut","Ad\u0103ugare panou"]},template:function(e,t){1&e&&(Ee.TgZ(0,"div",0),Ee.TgZ(1,"header",1),Ee.TgZ(2,"h1",2),Ee.YNc(3,ct,2,0,"ng-container",3),Ee.YNc(4,lt,2,0,"ng-container",3),Ee.qZA(),Ee.TgZ(5,"button",4),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"close"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.YNc(8,dt,2,1,"div",5),Ee.TgZ(9,"div",6),Ee._UZ(10,"span",7),Ee.TgZ(11,"button",8),Ee.YNc(12,st,2,0,"ng-container",3),Ee.YNc(13,ut,2,0,"ng-container",3),Ee.qZA(),Ee.qZA(),Ee.qZA()),2&e&&(Ee.xp6(3),Ee.Q6J("ngIf",null==t.data.board?null:t.data.board.persisted()),Ee.xp6(1),Ee.Q6J("ngIf",!(null!=t.data.board&&t.data.board.persisted())),Ee.xp6(1),Ee.Q6J("mat-dialog-close",!1),Ee.xp6(3),Ee.Q6J("ngIf",t.data.board),Ee.xp6(3),Ee.Q6J("mat-dialog-close",!0),Ee.xp6(1),Ee.Q6J("ngIf",null==t.data.board?null:t.data.board.persisted()),Ee.xp6(1),Ee.Q6J("ngIf",!(null!=t.data.board&&t.data.board.persisted())))},directives:[Fe.Zt,He.xw,He.Wh,$e.uh,Je.O5,Re.lW,Ye._,$e.ZT,je.Hw,$e.H8,$e.xY,rt.q],styles:[""]}),e}(),ft=Ie(13070),pt=Ie(9550),mt=Ie(31041),ht=Ie(13841),gt=Ie(87064),kt=function(){var e=function(){function e(t){De(this,e),this.data=t,this.boardSetChange=new Ee.vpe}return Pe(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36($e.WI))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-boardset-editor-dialog"]],inputs:{boardSet:"boardSet"},outputs:{boardSetChange:"boardSetChange"},decls:28,vars:7,consts:function(){return[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body"],["fxLayout","row","fxLayoutAlign","space-between center",1,"mb-3"],["mat-dialog-title","",1,"mb-0"],"Propriet\u0103\u021Bi set de pl\u0103ci",["mat-icon-button","","aria-label","\xEEnchide","appStopPropagation","",3,"mat-dialog-close"],["mat-dialog-content",""],[1,"w-100"],"Titlu",["matInput","","required","","placeholder","Title","maxlength","250","appStopPropagation","",3,"ngModel","ngModelChange"],["align","end"],[1,"w-100","mb-3"],"vizibilitate",["appStopPropagation","",3,"value","valueChange"],[3,"value"],"privat","public","Seturi de consiliu publice pot fi g\u0103site \u0219i vizualizate de oricine.",["mat-dialog-actions",""],[1,"spacer"],["mat-raised-button","","color","primary","appStopPropagation","","cdkFocusInitial","",3,"mat-dialog-close"],"F\u0103cut"]},template:function(e,t){1&e&&(Ee.TgZ(0,"div",0),Ee.TgZ(1,"header",1),Ee.TgZ(2,"h1",2),Ee.SDv(3,3),Ee.qZA(),Ee.TgZ(4,"button",4),Ee.TgZ(5,"mat-icon"),Ee._uU(6,"close"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(7,"div",5),Ee.TgZ(8,"mat-form-field",6),Ee.TgZ(9,"mat-label"),Ee.SDv(10,7),Ee.qZA(),Ee.TgZ(11,"input",8),Ee.NdJ("ngModelChange",function(e){return t.data.boardSet.title=e}),Ee.qZA(),Ee.TgZ(12,"mat-hint",9),Ee._uU(13),Ee.qZA(),Ee.qZA(),Ee.TgZ(14,"mat-form-field",10),Ee.TgZ(15,"mat-label"),Ee.SDv(16,11),Ee.qZA(),Ee.TgZ(17,"mat-select",12),Ee.NdJ("valueChange",function(e){return t.data.boardSet.public=e}),Ee.TgZ(18,"mat-option",13),Ee.SDv(19,14),Ee.qZA(),Ee.TgZ(20,"mat-option",13),Ee.SDv(21,15),Ee.qZA(),Ee.qZA(),Ee.TgZ(22,"mat-hint"),Ee.SDv(23,16),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(24,"div",17),Ee._UZ(25,"span",18),Ee.TgZ(26,"button",19),Ee.SDv(27,20),Ee.qZA(),Ee.qZA(),Ee.qZA()),2&e&&(Ee.xp6(4),Ee.Q6J("mat-dialog-close",!1),Ee.xp6(7),Ee.Q6J("ngModel",t.data.boardSet.title),Ee.xp6(2),Ee.hij("",(null==t.data.boardSet.title?null:t.data.boardSet.title.length)||0,"\xa0/\xa0250"),Ee.xp6(4),Ee.Q6J("value",t.data.boardSet.public),Ee.xp6(1),Ee.Q6J("value",!1),Ee.xp6(2),Ee.Q6J("value",!0),Ee.xp6(6),Ee.Q6J("mat-dialog-close",t.data.boardSet))},directives:[Fe.Zt,He.xw,He.Wh,$e.uh,Re.lW,Ye._,$e.ZT,je.Hw,$e.xY,ft.KE,ft.hX,pt.Nt,mt.Fj,mt.Q7,mt.nD,mt.JJ,mt.On,ft.bx,ht.gD,gt.ey,$e.H8],styles:[""]}),e}(),vt=Ie(31225),xt=Ie(47727),yt=Ie(79996),Zt=Ie(93315),Ct=Ie(33464),_t=Ie(40936);function wt(e,t){1&e&&(Ee.TgZ(0,"p"),Ee.SDv(1,12),Ee.qZA())}function Tt(e,t){if(1&e&&(Ee.ynx(0),Ee.TgZ(1,"p"),Ee.SDv(2,11),Ee.qZA(),Ee.YNc(3,wt,2,0,"p",4),Ee.BQk()),2&e){var a=Ee.oxw();Ee.xp6(3),Ee.Q6J("ngIf",!0===a.boardSet.readonly)}}function St(e,t){1&e&&Ee._UZ(0,"app-loading-notice",13)}function At(e,t){1&e&&(Ee.TgZ(0,"p"),Ee.SDv(1,14),Ee.qZA())}function Bt(e,t){if(1&e&&(Ee.TgZ(0,"button",15),Ee.SDv(1,16),Ee.qZA()),2&e){var a=Ee.oxw();Ee.Q6J("mat-dialog-close",!1)("disabled","Copying"===a.status)}}function qt(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",17),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().copyBoardSet()}),Ee.SDv(1,18),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.Q6J("disabled","Copying"===o.status)}}function Mt(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",19),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().openCopiedBoardSet()}),Ee.SDv(1,20),Ee.qZA()}}var Ot=function(e){return e.Confirming="Confirming",e.Copying="Copying",e.Copied="Copied",e}({}),Pt=function(){var e=function(){function e(t,a,o,n){De(this,e),this.dialogRef=t,this.boardSet=a,this.service=o,this.router=n,this.status=Ot.Confirming}return Pe(e,[{key:"copyBoardSet",value:function(){var e=this;this.status=Ot.Copying,this.service.add(this.boardSet).subscribe(function(t){e.copiedBoardSet=t,e.status=Ot.Copied})}},{key:"openCopiedBoardSet",value:function(){this.router.navigate(["/","boardsets",this.copiedBoardSet.id]),this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36($e.so),Ee.Y36($e.WI),Ee.Y36(Zt.o),Ee.Y36(Ct.F0))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-copy-board-set-dialog"]],decls:12,vars:7,consts:function(){var e,t;return[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary","body"],["mat-dialog-title",""],"Copiere " + "\ufffd0\ufffd" + "",["mat-dialog-content",""],[4,"ngIf"],["action",e="Copierea","subject",t="Seturi de panouri",4,"ngIf"],["mat-dialog-actions",""],["mat-stroked-button","","color","primary","appStopPropagation","",3,"mat-dialog-close","disabled",4,"ngIf"],[1,"spacer"],["mat-raised-button","","color","primary","appStopPropagation","",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","primary","appStopPropagation","",3,"click",4,"ngIf"],"Copia\u021Bi acest set de bord?","Ve\u021Bi putea edita copia.",["action",e,"subject",t],"Copiere complet\u0103!",["mat-stroked-button","","color","primary","appStopPropagation","",3,"mat-dialog-close","disabled"],"Anula",["mat-raised-button","","color","primary","appStopPropagation","",3,"disabled","click"],"Copiere",["mat-raised-button","","color","primary","appStopPropagation","",3,"click"],"Merge\u021Bi la copiere"]},template:function(e,t){1&e&&(Ee.TgZ(0,"div",0),Ee.TgZ(1,"h1",1),Ee.SDv(2,2),Ee.qZA(),Ee.TgZ(3,"div",3),Ee.YNc(4,Tt,4,1,"ng-container",4),Ee.YNc(5,St,1,0,"app-loading-notice",5),Ee.YNc(6,At,2,0,"p",4),Ee.qZA(),Ee.TgZ(7,"div",6),Ee.YNc(8,Bt,2,2,"button",7),Ee._UZ(9,"span",8),Ee.YNc(10,qt,2,1,"button",9),Ee.YNc(11,Mt,2,0,"button",10),Ee.qZA(),Ee.qZA()),2&e&&(Ee.xp6(2),Ee.pQV(t.boardSet.name),Ee.QtT(2),Ee.xp6(2),Ee.Q6J("ngIf","Confirming"===t.status),Ee.xp6(1),Ee.Q6J("ngIf","Copying"===t.status),Ee.xp6(1),Ee.Q6J("ngIf","Copied"===t.status),Ee.xp6(2),Ee.Q6J("ngIf","Copied"!=t.status),Ee.xp6(2),Ee.Q6J("ngIf","Copied"!=t.status),Ee.xp6(1),Ee.Q6J("ngIf","Copied"===t.status))},directives:[Fe.Zt,$e.uh,$e.xY,Je.O5,$e.H8,_t.W,Re.lW,Ye._,$e.ZT],styles:[""]}),e}(),It=Ie(39084),Jt=Ie(23759),Qt=Ie(85078),Nt=Ie(97070),Dt=Ie(24311),Lt=Ie(36278),zt=["matTree"],$t=function(e){return{board:e}};function Et(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"mat-tree-node",6),Ee.TgZ(1,"mat-list-item",7),Ee.NdJ("click",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().selectBoard(e.board)})("dblclick",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().edit(e.board)})("keyup.enter",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().selectBoard(e.board)}),Ee.TgZ(2,"div",8),Ee.TgZ(3,"span"),Ee._uU(4),Ee.qZA(),Ee.TgZ(5,"button",9),Ee.NdJ("click",function(e){return e.stopPropagation()}),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"more_vert"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=t.$implicit,n=Ee.oxw(),i=Ee.MAs(6);Ee.Q6J("matTreeNodePaddingIndent",n.treeNodePadding),Ee.xp6(1),Ee.ekj("selected",n.selectedBoard===o.board),Ee.xp6(3),Ee.Oqu(o.board.name),Ee.xp6(1),Ee.Q6J("matMenuTriggerFor",i)("matMenuTriggerData",Ee.VKq(6,$t,o.board))}}function Ut(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"mat-tree-node",10),Ee.NdJ("click",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().selectBoard(e.board)}),Ee.TgZ(1,"mat-list-item",7),Ee.NdJ("click",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().selectBoard(e.board)})("dblclick",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().edit(e.board)})("keyup.enter",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw().selectBoard(e.board)}),Ee.TgZ(2,"div",11),Ee.TgZ(3,"button",12),Ee.TgZ(4,"mat-icon",13),Ee._uU(5),Ee.qZA(),Ee.qZA(),Ee.TgZ(6,"span",14),Ee._uU(7),Ee.qZA(),Ee.TgZ(8,"button",15),Ee.NdJ("click",function(e){return e.stopPropagation()}),Ee.TgZ(9,"mat-icon"),Ee._uU(10,"more_vert"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=t.$implicit,n=Ee.oxw(),i=Ee.MAs(6);Ee.Q6J("matTreeNodePaddingIndent",n.treeNodePadding),Ee.xp6(1),Ee.ekj("selected",n.selectedBoard===o.board),Ee.uIk("aria-label","select "+o.board.name),Ee.xp6(2),Ee.uIk("aria-label","expand "+o.board.name),Ee.xp6(2),Ee.hij(" ",n.treeControl.isExpanded(o)?"expand_more":"chevron_right"," "),Ee.xp6(2),Ee.Oqu(o.board.name),Ee.xp6(1),Ee.Q6J("matMenuTriggerFor",i)("matMenuTriggerData",Ee.VKq(9,$t,o.board))}}function Ft(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",16),Ee.NdJ("click",function(){var e=Ee.CHM(a).board;return Ee.oxw().download(e)}),Ee.TgZ(1,"mat-icon"),Ee._uU(2,"save_alt"),Ee.qZA(),Ee.ynx(3),Ee.SDv(4,17),Ee.BQk(),Ee.qZA(),Ee.TgZ(5,"button",16),Ee.NdJ("click",function(){var e=Ee.CHM(a).board;return Ee.oxw().pdf(e)}),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"picture_as_pdf"),Ee.qZA(),Ee.ynx(8),Ee.SDv(9,18),Ee.BQk(),Ee.qZA(),Ee._UZ(10,"mat-divider"),Ee.TgZ(11,"button",19),Ee.NdJ("click",function(){var e=Ee.CHM(a).board;return Ee.oxw().delete(e)}),Ee.TgZ(12,"mat-icon"),Ee._uU(13,"delete"),Ee.qZA(),Ee.ynx(14),Ee.SDv(15,20),Ee.BQk(),Ee.qZA(),Ee.TgZ(16,"button",19),Ee.NdJ("click",function(){var e=Ee.CHM(a).board;return Ee.oxw().edit(e)}),Ee.TgZ(17,"mat-icon"),Ee._uU(18,"edit"),Ee.qZA(),Ee.ynx(19),Ee.SDv(20,21),Ee.BQk(),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.xp6(11),Ee.Q6J("disabled",o.boardSet.readonly),Ee.xp6(5),Ee.Q6J("disabled",o.boardSet.readonly)}}var Ht=function(){var e=function(){function e(t,a,o){De(this,e),this.dialog=t,this.boardService=a,this.router=o,this.selectionChange=new Ee.vpe,this.deleteBoard=new Ee.vpe,this.updateBoard=new Ee.vpe,this.treeNodePadding=20,this.treeControl=new Jt.C2(function(e){return e.level},function(e){return e.expandable}),this.treeFlattener=new It.JZ(function(e,t){var a=e.children;return{expandable:!!a&&a.length>0,board:e.board,level:t}},function(e){return e.level},function(e){return e.expandable},function(e){return e.children}),this.dataSource=new It.kc(this.treeControl,this.treeFlattener),this.hasChild=function(e,t){return t.expandable}}return Pe(e,[{key:"ngOnChanges",value:function(e){e.boards&&this.rebuildTree()}},{key:"rebuildTree",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dataSource.data=this.flatToHierarchy(),e&&this.treeControl.expandAll()}},{key:"flatToHierarchy",value:function(){var e=this,t={},a=new Array,o=[];return this.boards.forEach(function(e){e.cells.filter(function(e){return null!=e.linked_board_id}).forEach(function(e){return o.push(e.linked_board_id)}),t[e.id]={board:e,children:[]}}),Object.keys(t).forEach(function(n){var i=t[n];o.includes(i.board.id)?e.boards.forEach(function(e){e.cells.find(function(e){return e.linked_board_id===i.board.id})&&t[e.id].children.push(i)}):a.push(i)}),a}},{key:"selectBoard",value:function(e){this.selectionChange.emit(e)}},{key:"delete",value:function(e){this.deleteBoard.emit(e)}},{key:"edit",value:function(e){var t=this;void 0===this.currentDialogRef&&(this.boardSet.readonly||(this.currentDialogRef=this.dialog.open(bt,{width:"700px",data:{board:e}}),this.currentDialogRef.afterClosed().subscribe(function(a){t.currentDialogRef=void 0,t.boardService.update(e).subscribe(function(e){t.updateBoard.emit(e)})})))}},{key:"download",value:function(e){(0,ze.saveAs)(new Blob([JSON.stringify(e.toObf(),null,2)],{type:"text/plain;charset=utf-8"}),e.title+".obf")}},{key:"pdf",value:function(e){this.router.navigate(["boardsets",e.board_set_id,"pdf",e.id])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36($e.uw),Ee.Y36(Ue.$),Ee.Y36(Ct.F0))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-board-tree"]],viewQuery:function(e,t){var a;(1&e&&Ee.Gf(zt,5),2&e)&&(Ee.iGM(a=Ee.CRH())&&(t.matTree=a.first))},inputs:{boardSet:"boardSet",boards:"boards",selectedBoard:"selectedBoard"},outputs:{selectionChange:"selectionChange",deleteBoard:"deleteBoard",updateBoard:"updateBoard"},features:[Ee.TTD],decls:8,vars:3,consts:function(){return[[3,"dataSource","treeControl"],["matTree",""],["matTreeNodePadding","",3,"matTreeNodePaddingIndent",4,"matTreeNodeDef"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],["boardMenu","matMenu"],["matMenuContent",""],["matTreeNodePadding","",3,"matTreeNodePaddingIndent"],["tabindex","0",3,"click","dblclick","keyup.enter"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100",2,"padding-left","40px"],["mat-button","","mat-icon-button","","matTooltip","Board Actions","matTooltipPosition","right","appStopPropagation","",3,"matMenuTriggerFor","matMenuTriggerData","click"],["matTreeNodePadding","",3,"matTreeNodePaddingIndent","click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"w-100"],["mat-icon-button","","matTreeNodeToggle","","appStopPropagation",""],[1,"mat-icon-rtl-mirror"],["fxFlex","grow"],["mat-button","","mat-icon-button","","matTooltip","Ac\u021Biunile Consiliului","matTooltipPosition","right","appStopPropagation","",3,"matMenuTriggerFor","matMenuTriggerData","click"],["mat-menu-item","",3,"click"],"Desc\u0103rcare ca OBF","Desc\u0103rcare/Imprimare PDF",["mat-menu-item","",3,"disabled","click"],"\u015Eterge","Propriet\u0103\u021Bi"]},template:function(e,t){1&e&&(Ee.TgZ(0,"mat-nav-list"),Ee.TgZ(1,"mat-tree",0,1),Ee.YNc(3,Et,8,8,"mat-tree-node",2),Ee.YNc(4,Ut,11,11,"mat-tree-node",3),Ee.qZA(),Ee.qZA(),Ee.TgZ(5,"mat-menu",null,4),Ee.YNc(7,Ft,21,2,"ng-template",5),Ee.qZA()),2&e&&(Ee.xp6(1),Ee.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),Ee.xp6(3),Ee.Q6J("matTreeNodeDefWhen",t.hasChild))},directives:[Qt.Hk,It.gi,It.fQ,Nt.VK,Nt.KA,It.uo,It.ah,Qt.Tg,He.xw,He.Wh,Re.lW,Dt.gM,Ye._,Nt.p6,je.Hw,It.eu,He.yH,Nt.OP,Lt.d],styles:["mat-list-item[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none}mat-list-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden}mat-list-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:.4}mat-list-item[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], mat-list-item[_ngcontent-%COMP%]   button[aria-expanded=true][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{opacity:1}mat-list-item.selected[_ngcontent-%COMP%], mat-list-item.selected[_ngcontent-%COMP%]:focus, mat-list-item.selected[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.2)!important}"]}),e}(),Rt=Ie(55683),Yt=Ie(529),jt=Ie(47133),Vt=Ie(42693),Wt=function(){var e=function(){function e(t){De(this,e),this.http=t,this.apiEndpoint="".concat(Yt.N.boardBuilderApiBase,"/cells")}return Pe(e,[{key:"list",value:function(){return this.http.get(this.apiEndpoint).pipe((0,yt.U)(function(e){return e.map(function(e){return(new jt.b).deserialise(e)})}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.http.get("".concat(this.apiEndpoint,"/").concat(e),{params:{expand:t}}).pipe((0,yt.U)(function(e){return(new jt.b).deserialise(e)}))}},{key:"update",value:function(e){return this.http.patch("".concat(this.apiEndpoint,"/").concat(e.id),e).pipe((0,yt.U)(function(e){return(new jt.b).deserialise(e)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.LFG(Vt.eN))},e.\u0275prov=Ee.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Gt=Ie(73501),Xt=Ie(88006),Kt=Ie(57173),ea=Ie(6489),ta=Ie(76710);function aa(e,t){if(1&e&&(Ee.TgZ(0,"mat-icon"),Ee._uU(1,"lens"),Ee.qZA()),2&e){var a=Ee.oxw();Ee.Udp("color",a.value)}}function oa(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",7),Ee.DtL(1,8),Ee.NdJ("click",function(e){return Ee.CHM(a),Ee.oxw().selectColour(null),e.stopPropagation()}),Ee.TgZ(2,"mat-icon",9),Ee._uU(3,"format_color_reset"),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.pQV(o.label),Ee.QtT(1)}}var na=function(){var e=function(){function e(){De(this,e),this.palette="regular",this.icon="color_lens",this.valueChange=new Ee.vpe}return Pe(e,[{key:"ngOnInit",value:function(){this.colours=Rt.z[this.palette]}},{key:"ngOnChanges",value:function(){this.value||(this.value="transparent")}},{key:"selectColour",value:function(e){"transparent"!==e&&this.valueChange.emit(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-cell-editor-colour-panel"]],viewQuery:function(e,t){var a;(1&e&&Ee.Gf(ea.ib,5),2&e)&&(Ee.iGM(a=Ee.CRH())&&(t.expansionPanel=a.first))},inputs:{palette:"palette",icon:"icon",label:"label",width:"width",value:"value"},outputs:{valueChange:"valueChange"},features:[Ee.TTD],decls:10,vars:7,consts:function(){return[["hideToggle","",1,"colour-selector"],["fxLayoutAlign","space-between center"],[1,"mr-2"],["fxLayoutAlign","end center"],[3,"color",4,"ngIf"],["mat-icon-button","","matTooltipPosition","left",3,"matTooltip","click",4,"ngIf"],[3,"border","value","palette","valueChange"],["mat-icon-button","","matTooltipPosition","left",3,"click",6,"matTooltip"],["matTooltip","Eliminare culoare " + "\ufffd0\ufffd" + ""],["color","primary"]]},template:function(e,t){1&e&&(Ee.TgZ(0,"mat-expansion-panel",0),Ee.TgZ(1,"mat-expansion-panel-header",1),Ee.TgZ(2,"mat-panel-title"),Ee.TgZ(3,"mat-icon",2),Ee._uU(4),Ee.qZA(),Ee._uU(5),Ee.qZA(),Ee.TgZ(6,"div",3),Ee.YNc(7,aa,2,2,"mat-icon",4),Ee.YNc(8,oa,4,1,"button",5),Ee.qZA(),Ee.qZA(),Ee.TgZ(9,"app-colour-picker",6),Ee.NdJ("valueChange",function(e){return t.selectColour(e)}),Ee.qZA(),Ee.qZA()),2&e&&(Ee.xp6(4),Ee.Oqu(t.icon),Ee.xp6(1),Ee.hij(" ",t.label," "),Ee.xp6(2),Ee.Q6J("ngIf",t.value),Ee.xp6(1),Ee.Q6J("ngIf","transparent"!==t.value),Ee.xp6(1),Ee.Q6J("border",!1)("value",t.value)("palette",t.palette))},directives:[ea.ib,ea.yz,He.Wh,ea.yK,je.Hw,Je.O5,ta.a,Re.lW,Dt.gM],styles:["mat-panel-title[_ngcontent-%COMP%]{align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.colour-grid[_ngcontent-%COMP%]{flex-flow:row wrap}mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 12px}  .colour-selector .mat-expansion-panel-body{padding:0 10px 10px!important}  .custom-accordion.mat-accordion .expansion-panel-wrapper:first-of-type .mat-expansion-panel{border-top-right-radius:4px;border-top-left-radius:4px}  .custom-accordion.mat-accordion>:not(.expanded) .mat-expansion-panel{border-radius:0}  .custom-accordion.mat-accordion>.expansion-panel-wrapper:last-of-type>.mat-expansion-panel{border-bottom-right-radius:4px;border-bottom-left-radius:4px}"]}),e}(),ia=Ie(42861),ra=Ie(50098),ca=Ie(22797),la=["searchPanel"];function da(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div",2),Ee.TgZ(1,"div",3),Ee.TgZ(2,"mat-form-field",4),Ee.TgZ(3,"input",5,6),Ee.NdJ("ngModelChange",function(e){return Ee.CHM(a),Ee.oxw().cell.caption=e}),Ee.qZA(),Ee.TgZ(5,"mat-hint",7),Ee._uU(6),Ee.qZA(),Ee.qZA(),Ee.TgZ(7,"button",8),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().closeEditor()}),Ee.TgZ(8,"mat-icon"),Ee._uU(9,"check"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.xp6(2),Ee.Q6J("floatLabel","never"),Ee.xp6(1),Ee.Q6J("ngModel",o.cell.caption),Ee.xp6(3),Ee.hij("",(null==o.cell.caption?null:o.cell.caption.length)||0,"\xa0/\xa0250")}}function sa(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"app-cell-editor-colour-panel",41),Ee.NdJ("valueChange",function(e){return Ee.CHM(a),Ee.oxw(2).cell.hair_colour=e})("valueChange",function(){return Ee.CHM(a),Ee.oxw(2).saveCell()}),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.Q6J("value",o.cell.hair_colour)}}function ua(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"app-cell-editor-colour-panel",42),Ee.NdJ("valueChange",function(e){return Ee.CHM(a),Ee.oxw(2).cell.skin_colour=e})("valueChange",function(){return Ee.CHM(a),Ee.oxw(2).saveCell()}),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.Q6J("value",o.cell.skin_colour)}}function ba(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div",43),Ee.TgZ(1,"mat-card",44),Ee.ynx(2),Ee.SDv(3,45),Ee.BQk(),Ee._uU(4),Ee.TgZ(5,"button",46),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw(2).unlinkCellFromBoard()}),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"close"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.xp6(4),Ee.hij(" ",o.linkedBoard?o.linkedBoard.name:o.cell.linked_board_id," ")}}function fa(e,t){if(1&e&&(Ee.TgZ(0,"mat-option",54),Ee._uU(1),Ee.qZA()),2&e){var a=t.$implicit;Ee.Q6J("value",a.id),Ee.xp6(1),Ee.Oqu(a.name)}}function pa(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div"),Ee.TgZ(1,"mat-form-field",49),Ee.TgZ(2,"mat-label"),Ee.SDv(3,50),Ee.qZA(),Ee.TgZ(4,"mat-select",51),Ee.NdJ("selectionChange",function(){return Ee.CHM(a),Ee.oxw(4).afterCellLinkedToBoard()})("ngModelChange",function(e){return Ee.CHM(a),Ee.oxw(4).cell.linked_board_id=e}),Ee.YNc(5,fa,2,2,"mat-option",52),Ee.qZA(),Ee.TgZ(6,"mat-hint"),Ee.SDv(7,53),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw().ngIf,n=Ee.oxw(3);Ee.xp6(4),Ee.Q6J("ngModel",n.cell.linked_board_id),Ee.xp6(1),Ee.Q6J("ngForOf",o)}}function ma(e,t){1&e&&(Ee.TgZ(0,"div"),Ee.TgZ(1,"div",44),Ee.TgZ(2,"mat-icon",55),Ee._uU(3,"info"),Ee.qZA(),Ee.ynx(4),Ee.SDv(5,56),Ee.BQk(),Ee._UZ(6,"br"),Ee.ynx(7),Ee.SDv(8,57),Ee.BQk(),Ee.qZA(),Ee.qZA())}function ha(e,t){if(1&e&&(Ee.TgZ(0,"div"),Ee.YNc(1,pa,8,2,"div",22),Ee.YNc(2,ma,9,0,"div",22),Ee.qZA()),2&e){var a=t.ngIf;Ee.xp6(1),Ee.Q6J("ngIf",a.length>0),Ee.xp6(1),Ee.Q6J("ngIf",0===a.length)}}function ga(e,t){1&e&&Ee._UZ(0,"app-loading-notice",58),2&e&&Ee.Udp("padding","20px 0")}function ka(e,t){if(1&e&&(Ee.TgZ(0,"div"),Ee.YNc(1,ha,3,2,"div",47),Ee.ALo(2,"async"),Ee.YNc(3,ga,1,2,"ng-template",null,48,Ee.W1O),Ee.qZA()),2&e){var a=Ee.MAs(4),o=Ee.oxw(2);Ee.xp6(1),Ee.Q6J("ngIf",Ee.lcZ(2,2,o.linkableBoards$))("ngIfElse",a)}}function va(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"mat-tab-group",9),Ee.NdJ("selectedTabChange",function(e){return Ee.CHM(a),Ee.oxw().triggerSearch(e)}),Ee.TgZ(1,"mat-tab",10),Ee.TgZ(2,"div",11),Ee.TgZ(3,"h3",12),Ee.SDv(4,13),Ee.qZA(),Ee.TgZ(5,"mat-accordion",14),Ee.TgZ(6,"app-cell-editor-colour-panel",15),Ee.NdJ("valueChange",function(e){return Ee.CHM(a),Ee.oxw().cell.background_colour=e})("valueChange",function(){return Ee.CHM(a),Ee.oxw().saveCell()}),Ee.qZA(),Ee.TgZ(7,"app-cell-editor-colour-panel",16),Ee.NdJ("valueChange",function(e){return Ee.CHM(a),Ee.oxw().cell.border_colour=e})("valueChange",function(){return Ee.CHM(a),Ee.oxw().saveCell()}),Ee.qZA(),Ee.TgZ(8,"app-cell-editor-colour-panel",17),Ee.NdJ("valueChange",function(e){return Ee.CHM(a),Ee.oxw().cell.text_colour=e})("valueChange",function(){return Ee.CHM(a),Ee.oxw().saveCell()}),Ee.qZA(),Ee.YNc(9,sa,1,1,"app-cell-editor-colour-panel",18),Ee.YNc(10,ua,1,1,"app-cell-editor-colour-panel",19),Ee.qZA(),Ee.TgZ(11,"h3"),Ee.SDv(12,20),Ee.qZA(),Ee.YNc(13,ba,8,1,"div",21),Ee.YNc(14,ka,5,4,"div",22),Ee.TgZ(15,"h3"),Ee.SDv(16,23),Ee.qZA(),Ee.TgZ(17,"div",24),Ee.TgZ(18,"button",25),Ee.NdJ("click",function(){Ee.CHM(a);var e=Ee.oxw();return e.moveCell(e.board.cells.indexOf(e.cell)-1)}),Ee.TgZ(19,"div",26),Ee.TgZ(20,"mat-icon"),Ee._uU(21,"arrow_left"),Ee.qZA(),Ee.ynx(22),Ee.SDv(23,27),Ee.BQk(),Ee.qZA(),Ee.qZA(),Ee._uU(24,"\xa0 "),Ee.TgZ(25,"button",28),Ee.NdJ("click",function(){Ee.CHM(a);var e=Ee.oxw();return e.moveCell(e.board.cells.indexOf(e.cell)+1)}),Ee.TgZ(26,"div",29),Ee.ynx(27),Ee.SDv(28,30),Ee.BQk(),Ee.TgZ(29,"mat-icon"),Ee._uU(30,"arrow_right"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(31,"h3"),Ee.SDv(32,31),Ee.qZA(),Ee.TgZ(33,"button",32),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().clearCell("symbol")}),Ee.ynx(34),Ee.SDv(35,33),Ee.BQk(),Ee.qZA(),Ee._uU(36,"\xa0 "),Ee.TgZ(37,"button",34),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().clearCell("colours")}),Ee.ynx(38),Ee.SDv(39,35),Ee.BQk(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(40,"mat-tab",36),Ee.TgZ(41,"div",11),Ee.TgZ(42,"app-search-panel",37,38),Ee.NdJ("selectionChange",function(e){return Ee.CHM(a),Ee.oxw().selectSearchResult(e)}),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(44,"mat-tab",39),Ee.TgZ(45,"div",11),Ee.TgZ(46,"app-media-library",40),Ee.NdJ("mediaSelect",function(e){return Ee.CHM(a),Ee.oxw().selectMedia(e)}),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw();Ee.xp6(6),Ee.Q6J("value",o.cell.background_colour),Ee.xp6(1),Ee.Q6J("value",o.cell.border_colour),Ee.xp6(1),Ee.Q6J("value",o.cell.text_colour),Ee.xp6(1),Ee.Q6J("ngIf",null==o.cell.picto?null:o.cell.picto.adaptable),Ee.xp6(1),Ee.Q6J("ngIf",null==o.cell.picto?null:o.cell.picto.adaptable),Ee.xp6(3),Ee.Q6J("ngIf",o.cell.linked_board_id),Ee.xp6(1),Ee.Q6J("ngIf",!o.cell.linked_board_id),Ee.xp6(4),Ee.Q6J("disabled",0===o.board.cells.indexOf(o.cell)),Ee.xp6(7),Ee.Q6J("disabled",o.board.cells.indexOf(o.cell)===o.board.cells.length-1),Ee.xp6(17),Ee.Q6J("initialQuery",o.cell.caption),Ee.xp6(4),Ee.Q6J("showCreate",!0)}}var xa=function(){var e=function(){function e(t,a,o,n){var i=this;De(this,e),this.dialog=t,this.cellService=a,this.boardService=o,this.userService=n,this.closed=new Ee.vpe,this.cellLinkedToBoard=new Ee.vpe,this.userSubscription=n.user$.subscribe(function(e){return i.user=e}),this.colourPickerColours=Rt.z.regular}return Pe(e,[{key:"ngOnChanges",value:function(e){var t,a;(null===(t=e.cell)||void 0===t?void 0:t.previousValue)&&this.cellService.update(e.cell.previousValue).subscribe(),(null===(a=e.cell)||void 0===a?void 0:a.currentValue)&&(this.loadLinkableBoards(),this.loadLinkedBoard())}},{key:"ngOnDestroy",value:function(){this.cell&&this.saveCell(),this.userSubscription.unsubscribe()}},{key:"loadLinkableBoards",value:function(){this.linkableBoards$=this.cellService.get(this.cell.id,"linkable_boards").pipe((0,yt.U)(function(e){return e.linkable_boards}))}},{key:"afterCellLinkedToBoard",value:function(){var e=this;this.saveCell(function(t){e.cellLinkedToBoard.emit(!0),e.loadLinkedBoard()})}},{key:"unlinkCellFromBoard",value:function(){var e=this;this.cell.linked_board_id=null,this.linkedBoard=null,this.saveCell(function(t){e.cellLinkedToBoard.emit(!0),e.loadLinkableBoards()})}},{key:"loadLinkedBoard",value:function(){var e=this;this.cell.linked_board_id&&this.boardService.get(this.cell.linked_board_id).subscribe(function(t){return e.linkedBoard=t})}},{key:"closeEditor",value:function(){this.closed.emit(!0)}},{key:"selectSearchResult",value:function(e){var t;this.cell.media=null,this.cell.media_id=null,this.cell.image_url=e.imageUrl,this.cell.picto_id=e.pictoId,this.cell.picto=e.picto,this.user&&(null===(t=e.picto)||void 0===t?void 0:t.adaptable)&&(this.user.default_hair_colour&&(this.cell.hair_colour=this.user.default_hair_colour),this.user.default_skin_colour&&(this.cell.skin_colour=this.user.default_skin_colour)),this.saveCell()}},{key:"triggerSearch",value:function(e){1===e.index&&this.cell.caption&&this.searchPanel.search()}},{key:"clearCell",value:function(e){e&&"colours"!==e||(this.cell.background_colour=null,this.cell.border_colour=null,this.cell.text_colour=null,this.cell.hair_colour=null,this.cell.skin_colour=null),e&&"symbol"!==e||(this.cell.image_url=null,this.cell.media_id=null,this.cell.picto_id=null,this.cell.media=null,this.cell.picto=null,this.cell.hair_colour=null,this.cell.skin_colour=null),e&&"caption"!==e||(this.cell.caption=null),this.saveCell()}},{key:"moveCell",value:function(e){(0,Fe.bA)(this.board.cells,this.board.cells.indexOf(this.cell),e),this.boardService.reorderCells(this.board).subscribe()}},{key:"selectMedia",value:function(e){this.cell.picto_id=null,this.cell.media=e,this.cell.media_id=e.id,this.cell.image_url=e.public_url,this.saveCell()}},{key:"saveCell",value:function(e){this.cellService.update(this.cell).subscribe(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36($e.uw),Ee.Y36(Wt),Ee.Y36(Ue.$),Ee.Y36(Gt.K))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-cell-editor"]],viewQuery:function(e,t){var a;(1&e&&Ee.Gf(la,5),2&e)&&(Ee.iGM(a=Ee.CRH())&&(t.searchPanel=a.first))},inputs:{boardSet:"boardSet",board:"board",cell:"cell"},outputs:{closed:"closed",cellLinkedToBoard:"cellLinkedToBoard"},features:[Ee.TTD],decls:2,vars:2,consts:function(){var e,t;return[["gaCategory","CellEditor",4,"ngIf"],["mat-align-tabs","center","gaCategory","CellEditor","fxFlex","grow",3,"selectedTabChange",4,"ngIf"],["gaCategory","CellEditor"],["fxLayout","row","fxLayoutAlign","space-between start",1,"p-1"],["appearance","outline",1,"w-100","no-label","cell-caption-form-field",3,"floatLabel"],["matInput","","placeholder","Etichet\u0103","autocomplete","off","maxlength","250",3,"ngModel","ngModelChange"],["cellCaptionInput",""],["align","end"],["mat-icon-button","","aria-label","Salvarea \u0219i \xEEnchiderea editorului de celule","matTooltip","Salvare \u0219i \xEEnchidere","matTooltipPosition","left","gaEvent","click","gaLabel","SaveAndClose",2,"margin-left","1rem","margin-top","8px",3,"click"],["mat-align-tabs","center","gaCategory","CellEditor","fxFlex","grow",3,"selectedTabChange"],["label","Celule"],[1,"p-1"],[1,"mt-0"],"Culori",[1,"custom-accordion"],["width","302","label","fond","icon","format_color_fill",3,"value","valueChange"],["width","302","label","frontier\u0103","icon","border_color",3,"value","valueChange"],["width","302","label","Text","icon","format_color_text",3,"value","valueChange"],["width","302","label",e="P\u0103r","palette","hair","icon","face",3,"value","valueChange",4,"ngIf"],["width","302","label",t="Piele","palette","skin","icon","insert_emoticon",3,"value","valueChange",4,"ngIf"],"Legarea",["class","cell-linked-notice-wrapper",4,"ngIf"],[4,"ngIf"],"Mutare celul\u0103",["fxLayout","row","fxLayoutAlign","space-between start"],["mat-stroked-button","","color","primary","fxFlex","50","gaEvent","click","gaLabel","MoveCellEarlier",3,"disabled","click"],["fxLayoutAlign","start center"],"Mutare mai devreme",["mat-stroked-button","","color","primary","fxFlex","50","gaEvent","click","gaLabel","MoveCellLater",3,"disabled","click"],["fxLayoutAlign","end center"],"Mutare mai t\xE2rziu","Reini\u021Bializare con\u021Binut celul\u0103",["mat-stroked-button","","color","primary","gaEvent","click","gaLabel","ClearSymbol",3,"click"],"Golire simbol",["mat-stroked-button","","color","primary","gaEvent","click","gaLabel","ClearColours",3,"click"],"Culori clare",["label","Simbol"],[3,"initialQuery","selectionChange"],["searchPanel",""],["label","Imaginile mele"],[3,"showCreate","mediaSelect"],["width","302","label",e,"palette","hair","icon","face",3,"value","valueChange"],["width","302","label",t,"palette","skin","icon","insert_emoticon",3,"value","valueChange"],[1,"cell-linked-notice-wrapper"],["fxLayout","row","fxLayoutAlign","space-between center"],"Legat la",["mat-icon-button","","aria-label","Deconecta","matTooltip","Deconecta","matTooltipPosition","left",3,"click"],[4,"ngIf","ngIfElse"],["loadingLinkableBoards",""],["appearance","outline",1,"w-100"],"Link c\u0103tre un consiliu",[3,"ngModel","selectionChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],"Aceast\u0103 list\u0103 afi\u0219eaz\u0103 numai panourile neconectate.",[3,"value"],[2,"margin-right","1rem"],"Nu sunt disponibile panouri pentru conectare.","Deconecta\u021Bi o plac\u0103 existent\u0103 sau crea\u021Bi una nou\u0103.",["diameter","49","layout","row","subject","Panouri care pot fi legate"]]},template:function(e,t){1&e&&(Ee.YNc(0,da,10,3,"div",0),Ee.YNc(1,va,47,11,"mat-tab-group",1)),2&e&&(Ee.Q6J("ngIf",t.cell),Ee.xp6(1),Ee.Q6J("ngIf",t.cell))},directives:[Je.O5,Xt.ht,He.xw,He.Wh,ft.KE,pt.Nt,mt.Fj,mt.nD,mt.JJ,mt.On,ft.bx,Re.lW,Dt.gM,Xt.kw,je.Hw,Kt.SP,He.yH,Kt.uX,ea.pp,na,ia.m,ra.Hh,ca.a8,ft.hX,ht.gD,Je.sg,gt.ey,_t.W],pipes:[Je.Ov],styles:["mat-panel-description[_ngcontent-%COMP%]{flex-direction:row-reverse}.cell-linked-notice-wrapper[_ngcontent-%COMP%]{min-height:89px}  app-cell-editor mat-form-field.cell-caption-form-field .mat-form-field-wrapper{padding-bottom:0}  app-cell-editor mat-form-field.cell-caption-form-field .mat-form-field-subscript-wrapper{margin-top:1.75rem;max-height:0;opacity:0;transition:max-height .2s ease-in,opacity .2s ease-in}  app-cell-editor mat-form-field.cell-caption-form-field.mat-focused .mat-form-field-subscript-wrapper{max-height:2rem;opacity:1}  app-cell-editor .mat-tab-label,   app-cell-editor .mat-tab-label-active{min-width:118px!important}  app-cell-editor .mat-tab-body-wrapper{min-height:calc(100% - 50px)}  app-cell-editor .mat-tab-body-content{overflow-y:overlay!important}mat-tab-group[_ngcontent-%COMP%]{overflow-y:hidden}"]}),e}(),ya=Ie(34546),Za=Ie(98508),Ca=Ie(47068),_a=function(){var e=function(){function e(){De(this,e)}return Pe(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-error-not-found"]],inputs:{subject:"subject"},decls:6,vars:2,consts:function(){return[[1,"text-center"],"" + "\ufffd0\ufffd" + " Nu s-a g\u0103sit",[1,"lead"],"Nu am putut g\u0103si un " + "\ufffd0\ufffd" + " la aceast\u0103 adres\u0103",["src","assets/not-found.svg","alt","busol\u0103"]]},template:function(e,t){1&e&&(Ee.TgZ(0,"div",0),Ee.TgZ(1,"h1"),Ee.SDv(2,1),Ee.qZA(),Ee.TgZ(3,"p",2),Ee.SDv(4,3),Ee.qZA(),Ee._UZ(5,"img",4),Ee.qZA()),2&e&&(Ee.xp6(2),Ee.pQV(t.subject),Ee.QtT(2),Ee.xp6(2),Ee.pQV(t.subject),Ee.QtT(4))},styles:["img[_ngcontent-%COMP%]{max-height:15rem}"]}),e}(),wa=Ie(10168),Ta=Ie(52309),Sa=Ie(96055);function Aa(e,t){if(1&e&&Ee._UZ(0,"img",12),2&e){var a=Ee.oxw(3);Ee.Q6J("src",null==a.board.header_media?null:a.board.header_media.public_url,Ee.LSH)}}function Ba(e,t){1&e&&(Ee.ynx(0),Ee.SDv(1,13),Ee.BQk())}function qa(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",10),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw(2).selectHeaderImage()}),Ee.YNc(1,Aa,1,1,"img",11),Ee.YNc(2,Ba,2,0,"ng-container",0),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.ekj("p-0",o.board.header_media),Ee.xp6(1),Ee.Q6J("ngIf",o.board.header_media),Ee.xp6(1),Ee.Q6J("ngIf",!o.board.header_media)}}function Ma(e,t){if(1&e&&Ee._UZ(0,"img",12),2&e){var a=Ee.oxw(3);Ee.Q6J("src",null==a.board.header_media?null:a.board.header_media.public_url,Ee.LSH)}}function Oa(e,t){if(1&e&&(Ee.ynx(0),Ee.YNc(1,Ma,1,1,"img",11),Ee.BQk()),2&e){var a=Ee.oxw(2);Ee.xp6(1),Ee.Q6J("ngIf",a.board.header_media)}}function Pa(e,t){if(1&e&&Ee._UZ(0,"app-adaptable-image",25),2&e){var a=Ee.oxw(2).$implicit;Ee.Q6J("adaptable",null==a.picto?null:a.picto.adaptable)("cell",a)("image",a.image_url)}}function Ia(e,t){1&e&&(Ee.TgZ(0,"mat-icon",26),Ee._uU(1,"landscape"),Ee.qZA())}function Ja(e,t){1&e&&(Ee.TgZ(0,"button",27),Ee.TgZ(1,"mat-icon"),Ee._uU(2,"link"),Ee.qZA(),Ee.qZA()),2&e&&Ee.Udp("visibility","hidden")}function Qa(e,t){if(1&e&&(Ee.TgZ(0,"span",28),Ee._uU(1),Ee.qZA()),2&e){var a=Ee.oxw(2).$implicit;Ee.Udp("color",a.text_colour),Ee.xp6(1),Ee.Oqu(a.caption)}}function Na(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"button",29),Ee.NdJ("click",function(){Ee.CHM(a);var e=Ee.oxw(2).$implicit;return Ee.oxw(2).showBoard(e.linked_board_id)}),Ee.TgZ(1,"mat-icon"),Ee._uU(2,"link"),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw(2).$implicit;Ee.Udp("visibility",o.linked_board_id?"visible":"hidden")}}function Da(e,t){if(1&e&&(Ee.TgZ(0,"div",17),Ee.TgZ(1,"div",18),Ee.YNc(2,Pa,1,3,"app-adaptable-image",19),Ee.YNc(3,Ia,2,0,"mat-icon",20),Ee.qZA(),Ee.TgZ(4,"div",21),Ee.YNc(5,Ja,3,2,"button",22),Ee.YNc(6,Qa,2,3,"span",23),Ee.YNc(7,Na,3,2,"button",24),Ee.qZA(),Ee.qZA()),2&e){var a=Ee.oxw().$implicit,o=Ee.oxw(2);Ee.xp6(2),Ee.Q6J("ngIf",a.image_url),Ee.xp6(1),Ee.Q6J("ngIf",!a.image_url),Ee.xp6(1),Ee.Q6J("fxFlexOrder","above"===o.board.captions_position?1:3),Ee.xp6(1),Ee.Q6J("ngIf",a.linked_board_id),Ee.xp6(1),Ee.Q6J("ngIf","hidden"!=o.board.captions_position),Ee.xp6(1),Ee.Q6J("ngIf",a.linked_board_id)}}function La(e,t){if(1&e&&Ee._UZ(0,"img",35),2&e){var a=Ee.oxw(2).$implicit;Ee.Q6J("src",a.image_url,Ee.LSH)}}function za(e,t){1&e&&(Ee.TgZ(0,"mat-icon",26),Ee._uU(1,"landscape"),Ee.qZA())}function $a(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div",30),Ee.TgZ(1,"div",31),Ee.YNc(2,La,1,1,"img",32),Ee.YNc(3,za,2,0,"mat-icon",20),Ee.qZA(),Ee.TgZ(4,"div",33),Ee.TgZ(5,"button",27),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"link"),Ee.qZA(),Ee.qZA(),Ee.TgZ(8,"div"),Ee._uU(9),Ee.qZA(),Ee.TgZ(10,"button",34),Ee.NdJ("click",function(){Ee.CHM(a);var e=Ee.oxw().$implicit;return Ee.oxw(2).showBoard(e.linked_board_id)}),Ee.TgZ(11,"mat-icon"),Ee._uU(12,"link"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw().$implicit,n=Ee.oxw(2);Ee.xp6(2),Ee.Q6J("ngIf",o.image_url),Ee.xp6(1),Ee.Q6J("ngIf",!o.image_url),Ee.xp6(1),Ee.Q6J("fxFlexOrder","right"===n.board.captions_position?3:1),Ee.xp6(1),Ee.Udp("visibility","hidden"),Ee.xp6(3),Ee.Udp("color",o.text_colour),Ee.xp6(1),Ee.Oqu(o.caption),Ee.xp6(1),Ee.Udp("visibility",o.linked_board_id?"visible":"hidden")}}function Ea(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"mat-grid-tile",14),Ee.NdJ("click",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw(2).selectCell(e)})("keyup.enter",function(){var e=Ee.CHM(a).$implicit;return Ee.oxw(2).selectCell(e)}),Ee.YNc(1,Da,8,6,"div",15),Ee.YNc(2,$a,13,10,"div",16),Ee.qZA()}if(2&e){var o=t.$implicit,n=Ee.oxw(2);Ee.Udp("background-color",o.background_colour)("outline-color",o.border_colour),Ee.ekj("selected",n.cell===o)("outlined",o.border_colour),Ee.xp6(1),Ee.Q6J("ngIf","column"===n.board.cellLayout),Ee.xp6(1),Ee.Q6J("ngIf","row"===n.board.cellLayout)}}function Ua(e,t){if(1&e&&(Ee.TgZ(0,"div"),Ee.TgZ(1,"div",1),Ee.TgZ(2,"div",2),Ee.TgZ(3,"div",3),Ee.YNc(4,qa,3,4,"button",4),Ee.YNc(5,Oa,2,1,"ng-container",5),Ee.qZA(),Ee.qZA(),Ee.TgZ(6,"h1",6),Ee._uU(7),Ee.qZA(),Ee.TgZ(8,"span",7),Ee._uU(9),Ee.qZA(),Ee.qZA(),Ee.TgZ(10,"mat-grid-list",8),Ee.YNc(11,Ea,3,10,"mat-grid-tile",9),Ee.ALo(12,"slice"),Ee.qZA(),Ee.qZA()),2&e){var a=Ee.oxw();Ee.xp6(3),Ee.Q6J("ngSwitch",a.readonly),Ee.xp6(1),Ee.Q6J("ngSwitchCase",!1),Ee.xp6(1),Ee.Q6J("ngSwitchCase",!0),Ee.xp6(2),Ee.Oqu(a.board.title),Ee.xp6(2),Ee.Oqu(a.board.description),Ee.xp6(1),Ee.Q6J("cols",a.board.columns),Ee.xp6(1),Ee.Q6J("ngForOf",Ee.Dn7(12,7,a.board.cells,0,a.board.columns*a.board.rows))}}var Fa=function(){var e=function(){function e(t,a){De(this,e),this.dialogService=t,this.boardService=a,this.readonly=!1,this.cellChange=new Ee.vpe,this.boardChange=new Ee.vpe}return Pe(e,[{key:"ngOnChanges",value:function(){}},{key:"selectCell",value:function(e){this.cellChange.emit(e)}},{key:"showBoard",value:function(e){this.boardChange.emit(e)}},{key:"selectHeaderImage",value:function(){var e=this;this.dialogService.openMediaLibrary({sources:["user_media"],allowClear:!!this.board.header_media}).afterClosed().subscribe(function(t){t&&(t.id?e.setBoardHeaderMedia(t):e.clearBoardHeaderMedia())})}},{key:"setBoardHeaderMedia",value:function(e){this.board.header_media=e,this.board.header_media_id=e.id,this.boardService.update(this.board).subscribe()}},{key:"clearBoardHeaderMedia",value:function(){this.board.header_media=null,this.board.header_media_id=null,this.boardService.update(this.board).subscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36(Ca.x),Ee.Y36(Ue.$))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-board-detail"]],inputs:{board:"board",cell:"cell",readonly:"readonly"},outputs:{cellChange:"cellChange",boardChange:"boardChange"},features:[Ee.TTD],decls:1,vars:1,consts:function(){var e;return[[4,"ngIf"],["fxLayout","row","fxLayoutGap","20px","fxLayoutAlign","center center",1,"mb-3","board-header"],["fxFlex","33","fxLayout","row"],[3,"ngSwitch"],["mat-button","","mat-stroked-button","",3,"p-0","click",4,"ngSwitchCase"],[4,"ngSwitchCase"],["fxFlex","33",1,"text-center","board-title"],["fxFlex","33",1,"text-right"],["rowHeight","11.85rem","gutterSize","1rem",3,"cols"],["tabindex","0","gaCategory","CellEditor","gaEvent","open",3,"background-color","outline-color","selected","outlined","click","keyup.enter",4,"ngFor","ngForOf"],["mat-button","","mat-stroked-button","",3,"click"],[3,"src",4,"ngIf"],[3,"src"],"Ad\u0103ugare imagine antet",["tabindex","0","gaCategory","CellEditor","gaEvent","open",3,"click","keyup.enter"],["fxLayout","column","fxLayoutAlign","space-between stretch","fxFlex","","id","cellBox","class","tile-body",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between stretch","fxFlex","","id","cellBoxRow","class","tile-body",4,"ngIf"],["fxLayout","column","fxLayoutAlign","space-between stretch","fxFlex","","id","cellBox",1,"tile-body"],["fxFlexOrder","2"],[3,"adaptable","cell","image",4,"ngIf"],["class","placeholder",4,"ngIf"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",3,"fxFlexOrder"],["mat-icon-button","",3,"visibility",4,"ngIf"],["fxFlex","grow",3,"color",4,"ngIf"],["mat-icon-button","","matTooltip",e="Mergi la Tabl\u0103 legat\u0103",3,"visibility","click",4,"ngIf"],[3,"adaptable","cell","image"],[1,"placeholder"],["mat-icon-button",""],["fxFlex","grow"],["mat-icon-button","","matTooltip",e,3,"click"],["fxLayout","row","fxLayoutAlign","space-between stretch","fxFlex","","id","cellBoxRow",1,"tile-body"],["fxFlex","50","fxFlexOrder","2"],["style","max-width: 100%;",3,"src",4,"ngIf"],["fxFlex","50","fxLayout","column","fxLayoutAlign","space-between center",3,"fxFlexOrder"],["mat-icon-button","","matTooltip","Mergi la Tabl\u0103 legat\u0103",3,"click"],[2,"max-width","100%",3,"src"]]},template:function(e,t){1&e&&Ee.YNc(0,Ua,13,11,"div",0),2&e&&Ee.Q6J("ngIf",t.board)},directives:[Je.O5,He.xw,He.SQ,He.Wh,He.yH,Je.RF,Je.n9,Ta.Il,Je.sg,Re.lW,Ta.DX,Xt.ht,Xt.kw,He.r7,Sa.y,je.Hw,Dt.gM],pipes:[Je.OU],styles:["mat-grid-tile[_ngcontent-%COMP%]{position:absolute;text-align:center;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);color:#000;background:hsla(0,0%,100%,.1);transition:box-shadow .2s ease-in}mat-grid-tile.outlined[_ngcontent-%COMP%]{outline-offset:-4px;outline-width:4px;outline-style:solid}mat-grid-tile[_ngcontent-%COMP%]:hover{transition-duration:.05s;box-shadow:0 0 8px 3px rgba(186,225,255,.8);cursor:pointer}mat-grid-tile.selected[_ngcontent-%COMP%], mat-grid-tile.selected[_ngcontent-%COMP%]:focus{transition-duration:.2s;box-shadow:0 0 8px 4px #006aba}mat-grid-tile[_ngcontent-%COMP%]:focus{transition-duration:.2s;box-shadow:0 0 5px 3px #bae1ff;outline-style:solid;outline-color:transparent}mat-grid-tile[_ngcontent-%COMP%]   div.tile-body[_ngcontent-%COMP%]{padding:.5rem 1rem}mat-grid-tile[_ngcontent-%COMP%]   mat-icon.placeholder[_ngcontent-%COMP%]{font-size:7rem;height:auto;width:auto;opacity:.1}.board-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px}.board-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:46px}.board-header[_ngcontent-%COMP%]   h1.board-title[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}"]}),e}();function Ha(e,t){1&e&&Ee._UZ(0,"app-loading-notice",11)}function Ra(e,t){1&e&&Ee._UZ(0,"app-error-not-found",12)}function Ya(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div",30),Ee.TgZ(1,"div",31),Ee.SDv(2,32),Ee.qZA(),Ee.TgZ(3,"button",33),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw(2).copyBoardSet()}),Ee.TgZ(4,"mat-icon"),Ee._uU(5,"create"),Ee.qZA(),Ee.qZA(),Ee.qZA()}}function ja(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"app-board-tree",34),Ee.NdJ("selectionChange",function(e){return Ee.CHM(a),Ee.oxw(2).selectBoard(e)})("deleteBoard",function(e){return Ee.CHM(a),Ee.oxw(2).deleteBoard(e)})("updateBoard",function(){return Ee.CHM(a),Ee.oxw(2).loadBoardSet()}),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.Q6J("boardSet",o.boardSet)("boards",o.boardSet.boards)("selectedBoard",o.board)}}function Va(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"mat-sidenav",35,36),Ee.NdJ("opened",function(){return Ee.CHM(a),Ee.oxw(2).disableCellEditorAnimations=!1})("closed",function(){return Ee.CHM(a),Ee.oxw(2).disableCellEditorAnimations=!0})("closedStart",function(){return Ee.CHM(a),Ee.oxw(2).selectedCell=null}),Ee.TgZ(2,"app-cell-editor",37),Ee.NdJ("closed",function(){return Ee.CHM(a),Ee.MAs(1).close()})("cellLinkedToBoard",function(){return Ee.CHM(a),Ee.oxw(2).boardTree.rebuildTree()}),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.oxw(2);Ee.Q6J("opened",o.selectedCell)("mode",o.cellEditorMobileQuery.matches?"over":"side"),Ee.xp6(2),Ee.Q6J("boardSet",o.boardSet)("board",o.board)("cell",o.selectedCell)("@.disabled",o.disableCellEditorAnimations)}}function Wa(e,t){if(1&e){var a=Ee.EpF();Ee.TgZ(0,"div",13),Ee.TgZ(1,"mat-sidenav-container",14),Ee.TgZ(2,"mat-sidenav",15,16),Ee.TgZ(4,"div",17),Ee.TgZ(5,"div",18),Ee.TgZ(6,"div",19),Ee.NdJ("dblclick",function(){return Ee.CHM(a),Ee.oxw().editBoardSet()}),Ee.TgZ(7,"h3",20),Ee._uU(8),Ee.qZA(),Ee.TgZ(9,"button",21),Ee.NdJ("click",function(e){return e.stopPropagation()}),Ee.TgZ(10,"mat-icon"),Ee._uU(11,"more_vert"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.YNc(12,Ya,6,0,"div",22),Ee.qZA(),Ee.YNc(13,ja,1,3,"app-board-tree",23),Ee.TgZ(14,"div",24),Ee.TgZ(15,"div"),Ee.TgZ(16,"button",25),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.oxw().addBoard()}),Ee.TgZ(17,"mat-icon"),Ee._uU(18,"add"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.YNc(19,Va,3,6,"mat-sidenav",26),Ee.TgZ(20,"mat-sidenav-content"),Ee.TgZ(21,"app-board-detail",27),Ee.NdJ("cellChange",function(e){return Ee.CHM(a),Ee.oxw().selectedCell=e})("boardChange",function(e){return Ee.CHM(a),Ee.oxw().selectBoard(e)}),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.TgZ(22,"div",28),Ee.TgZ(23,"button",29),Ee.NdJ("click",function(){return Ee.CHM(a),Ee.MAs(3).toggle()}),Ee.TgZ(24,"mat-icon"),Ee._uU(25,"chevron_right"),Ee.qZA(),Ee.qZA(),Ee.qZA(),Ee.qZA()}if(2&e){var o=Ee.MAs(3),n=Ee.oxw(),i=Ee.MAs(4);Ee.ekj("example-is-mobile",n.boardTreeMobileQuery.matches),Ee.xp6(1),Ee.Q6J("autosize",!0),Ee.xp6(1),Ee.Q6J("mode",n.boardTreeMobileQuery.matches?"over":"side")("fixedInViewport",n.boardTreeMobileQuery.matches)("opened",!n.boardTreeMobileQuery.matches),Ee.xp6(6),Ee.Oqu(n.boardSet.name),Ee.xp6(1),Ee.Q6J("matMenuTriggerFor",i),Ee.xp6(3),Ee.Q6J("ngIf",null==n.boardSet?null:n.boardSet.readonly),Ee.xp6(1),Ee.Q6J("ngIf",n.boardSet),Ee.xp6(3),Ee.Q6J("disabled",null==n.boardSet?null:n.boardSet.readonly),Ee.xp6(3),Ee.Q6J("ngIf",!(null!=n.boardSet&&n.boardSet.readonly)),Ee.xp6(2),Ee.Q6J("board",n.board)("cell",n.selectedCell)("readonly",n.boardSet.readonly),Ee.xp6(1),Ee.ekj("open",o.opened),Ee.xp6(1),Ee.Q6J("matTooltip",(o.opened?"Hide":"Show")+" Boards Panel")}}var Ga=function(){var e=function(){function e(t,a,o,n,i,r,c,l,d,s,u){De(this,e),this.boardSetService=o,this.boardService=n,this.cellService=i,this.hotkeysService=r,this.toolbarService=c,this.dialogService=l,this.dialog=d,this.route=s,this.router=u,this.loadingError=!1,this.disableCellEditorAnimations=!0,this.hotkeys=[],this.mobileQueryListener=function(){return t.detectChanges()},this.boardTreeMobileQuery=a.matchMedia("(max-width: 900px)"),this.boardTreeMobileQuery.addListener(this.mobileQueryListener),this.cellEditorMobileQuery=a.matchMedia("(max-width: 1400px)"),this.cellEditorMobileQuery.addListener(this.mobileQueryListener)}return Pe(e,[{key:"ngOnInit",value:function(){var e=this;this.loading=!0,this.getBoardSet().subscribe(function(t){e.boardSet.readonly||e.boardSetService.touch(e.boardSet).subscribe(),e.boardSet.boards.length>0&&e.selectBoard(e.boardSet.boards[0])},function(e){return null},function(){return e.loading=!1}),this.toolbarService.setButtons([{text:"Board Sets",icon:"arrow_back",action:function(){return e.router.navigate(["/","boardsets"])}}],[{tooltip:"Keyboard Shortcuts",icon:"keyboard",action:function(){return e.hotkeysService.cheatSheetToggle.next()}}]),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["ctrl+backspace","command+backspace"],function(t){return e.router.navigate(["/","boardsets"]),!1},void 0,"Return to Main Menu"))),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["ctrl+s","command+s"],function(t){return e.boardSet&&e.editBoardSet(),!1},void 0,"Edit Board Set"))),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["ctrl+enter","command+enter"],function(t){return e.addBoard(),!1},void 0,"Add Board"))),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["ctrl+e","command+e"],function(t){return e.board&&e.editBoard(e.board),!1},void 0,"Edit Current Board"))),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["ctrl+del","command+del"],function(t){return e.board&&e.deleteBoard(e.board),!1},void 0,"Delete Current Board"))),this.hotkeys.push(this.hotkeysService.add(new Ne.qm(["del"],function(t){return e.selectedCell&&e.cellEditor.clearCell(),!1},void 0,"Clear Selected Cell")))}},{key:"ngOnDestroy",value:function(){var e,t=this;this.boardTreeMobileQuery.removeListener(this.mobileQueryListener),this.toolbarService.clearButtons(),(e=[]).concat.apply(e,Be(this.hotkeys)).map(function(e){return t.hotkeysService.remove(e)})}},{key:"getBoardSet",value:function(){var e=this;return this.loadingError=!1,this.loading=!0,this.boardSetService.get(this.route.snapshot.paramMap.get("id"),"boards boards.cells boards.cells.picto boards.cells.picto.image boards.header_media").pipe((0,xt.K)(function(t){return e.loadingError=!0,e.loading=!1,(0,vt._)(t)}),(0,yt.U)(function(t){return e.loading=!1,e.boardSet=t}))}},{key:"loadBoardSet",value:function(){var e=this,t=this.board;this.getBoardSet().subscribe(function(a){var o;t&&e.selectBoard(t.id,null===(o=e.selectedCell)||void 0===o?void 0:o.id)})}},{key:"addBoard",value:function(){var e,t,a,o=this;if(!this.boardSet.readonly&&void 0===this.currentDialogRef){var n=new Qe.$({name:"Board "+(this.boardSet.boards.length+1),board_set_id:this.boardSet.id,rows:null===(e=this.board)||void 0===e?void 0:e.rows,columns:null===(t=this.board)||void 0===t?void 0:t.columns,captions_position:null===(a=this.board)||void 0===a?void 0:a.captions_position});this.currentDialogRef=this.dialog.open(bt,{width:"700px",data:{board:n}}),this.currentDialogRef.afterClosed().subscribe(function(e){o.currentDialogRef=void 0,e&&o.boardService.add(n).subscribe(function(e){o.getBoardSet().subscribe(function(e){o.selectLastBoard()})})})}}},{key:"updateBoardSet",value:function(){if(!this.boardSet.readonly)return this.boardSetService.update(this.boardSet)}},{key:"selectBoard",value:function(e,t){this.board="number"==typeof e?this.boardSet.boards.find(function(t){return t.id===e}):e,this.selectedCell="number"==typeof t?this.board.cells.find(function(e){return e.id===t}):void 0}},{key:"selectLastBoard",value:function(){this.boardSet.boards.length>0&&this.selectBoard(this.boardSet.boards[this.boardSet.boards.length-1])}},{key:"deleteBoard",value:function(e){var t=this;this.boardSet.readonly||void 0===this.currentDialogRef&&this.dialogService.delete({heading:"Delete '".concat(e.name,"'?"),content:"This cannot be undone."}).afterClosed().subscribe(function(a){a&&(t.selectBoard(null),t.boardService.delete(e).subscribe(function(a){var o=t.boardSet.boards.indexOf(e);t.boardSet.boards=t.boardSet.boards.filter(function(t){return t!==e}),t.boardSet.boards[o]?t.selectBoard(t.boardSet.boards[o]):t.boardSet.boards[o-1]&&t.selectBoard(t.boardSet.boards[o-1])})),t.currentDialogRef=void 0})}},{key:"deleteBoardSet",value:function(e){var t=this;this.dialogService.deleteBoardSet(e,{heading:"Delete '".concat(e.name,"'? (contains ").concat(e.boards.length," Board").concat(1!==e.boards.length?"s":"",")"),content:"The Board Set and ".concat(e.boards.length," Board").concat(1!==e.boards.length?"s":""," will be deleted. This cannot be undone.")}).afterClosed().subscribe(function(a){a&&t.boardSetService.delete(e).subscribe(function(e){return t.router.navigate(["/","boardsets"])})})}},{key:"editBoard",value:function(e){var t=this;this.boardSet.readonly||void 0===this.currentDialogRef&&(this.currentDialogRef=this.dialog.open(bt,{width:"700px",data:{board:this.board}}),this.currentDialogRef.afterClosed().subscribe(function(a){t.currentDialogRef=void 0,t.boardService.update(e).subscribe()}))}},{key:"downloadBoard",value:function(e){(0,ze.saveAs)(new Blob([JSON.stringify(e.toObf(),null,2)],{type:"text/plain;charset=utf-8"}),e.title+".obf")}},{key:"editBoardSet",value:function(){var e=this;this.boardSet.readonly||void 0===this.currentDialogRef&&(this.currentDialogRef=this.dialog.open(kt,{width:"300px",data:{boardSet:this.boardSet}}),this.currentDialogRef.afterClosed().subscribe(function(t){t instanceof Le.V&&e.boardSetService.update(t).subscribe(),e.currentDialogRef=void 0}))}},{key:"uploadBoardObf",value:function(){var e=this;void 0===this.currentDialogRef&&(this.currentDialogRef=this.dialog.open(it,{width:"500px",data:{boardSet:this.boardSet}}),this.currentDialogRef.afterClosed().subscribe(function(t){t instanceof Qe.$&&e.getBoardSet().subscribe(function(t){e.selectLastBoard()}),e.currentDialogRef=void 0}))}},{key:"downloadBoardSetObz",value:function(){var e=this;this.boardSetService.convertToObz(this.boardSet).then(function(t){return(0,ze.saveAs)(t,e.boardSet.title+".obz")})}},{key:"generatePdf",value:function(){var e=this;this.updateBoardSet().subscribe(function(t){return e.router.navigate(["/","boardsets",e.boardSet.id,e.board.id,"pdf"])})}},{key:"copyBoardSet",value:function(){var e=this;void 0===this.currentDialogRef&&(this.currentDialogRef=this.dialog.open(Pt,{width:"300px",data:this.boardSet}),this.currentDialogRef.afterClosed().subscribe(function(t){t instanceof Le.V&&e.boardSetService.update(t).subscribe(),e.currentDialogRef=void 0}))}},{key:"refreshTree",value:function(){this.boardTree.rebuildTree()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ee.Y36(Ee.sBO),Ee.Y36(ya.vx),Ee.Y36(Zt.o),Ee.Y36(Ue.$),Ee.Y36(Wt),Ee.Y36(Ne.tm),Ee.Y36(Za.O),Ee.Y36(Ca.x),Ee.Y36($e.uw),Ee.Y36(Ct.gz),Ee.Y36(Ct.F0))},e.\u0275cmp=Ee.Xpm({type:e,selectors:[["app-builder"]],viewQuery:function(e,t){var a;(1&e&&(Ee.Gf(Ht,5),Ee.Gf(xa,5)),2&e)&&(Ee.iGM(a=Ee.CRH())&&(t.boardTree=a.first),Ee.iGM(a=Ee.CRH())&&(t.cellEditor=a.first))},decls:27,vars:6,consts:function(){var e,t;return[["class","mt-3","subject",e="Seturi de panouri",4,"ngIf"],["class","container mt-3","subject",t="Seturi de panouri",4,"ngIf"],["class","example-container",3,"example-is-mobile",4,"ngIf"],["matBoardSetMenu","matMenu"],["mat-menu-item","",3,"disabled","click"],"Adaug\u0103 Board de la OBF",["mat-menu-item","",3,"click"],"Descarca Board Set ca OBZ","\u015Eterge","Propriet\u0103\u021Bi",["title","Comenzi rapide de la tastatur\u0103"],["subject",e,1,"mt-3"],["subject",t,1,"container","mt-3"],[1,"example-container"],[1,"example-sidenav-container",3,"autosize"],["fixedTopGap","56","id","leftSidebar",3,"mode","fixedInViewport","opened"],["sideNav",""],["fxLayout","column","fxFlex",""],["id","leftSidebarHeaderPanel",1,"mat-elevation-z4"],["fxLayout","row","fxLayoutAlign","space-between center",3,"dblclick"],["id","boardSetName"],["mat-button","","mat-icon-button","","matTooltip","Ac\u021Biuni set de bord","matTooltipPosition","right",3,"matMenuTriggerFor","click"],["fxLayout","row","fxLayoutAlign","space-between center",4,"ngIf"],["fxFlex","grow","style","overflow-y: overlay",3,"boardSet","boards","selectedBoard","selectionChange","deleteBoard","updateBoard",4,"ngIf"],["id","leftSidebarBottomPanel"],["mat-mini-fab","","matTooltip","Ad\u0103ugare panou","matTooltipPosition","right","aria-label","Ad\u0103ugare panou","color","primary",3,"disabled","click"],["position","end","id","cellEditor",3,"opened","mode","closed","closedStart",4,"ngIf"],[3,"board","cell","readonly","cellChange","boardChange"],["id","leftSidebarToggler"],["mat-mini-fab","","color","primary","matTooltipPosition","right",1,"mat-elevation-z2",3,"matTooltip","click"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"read-only"],"Doar \xEEn citire",["mat-button","","mat-icon-button","","matTooltip","Creare copie editabil\u0103","matTooltipPosition","right",3,"click"],["fxFlex","grow",2,"overflow-y","overlay",3,"boardSet","boards","selectedBoard","selectionChange","deleteBoard","updateBoard"],["position","end","id","cellEditor",3,"opened","mode","closed","closedStart"],["cellEditor",""],["fxLayout","column","fxFlex","",3,"boardSet","board","cell","closed","cellLinkedToBoard"]]},template:function(e,t){1&e&&(Ee.YNc(0,Ha,1,0,"app-loading-notice",0),Ee.YNc(1,Ra,1,0,"app-error-not-found",1),Ee.YNc(2,Wa,26,18,"div",2),Ee.TgZ(3,"mat-menu",null,3),Ee.TgZ(5,"button",4),Ee.NdJ("click",function(){return t.uploadBoardObf()}),Ee.TgZ(6,"mat-icon"),Ee._uU(7,"note_add"),Ee.qZA(),Ee.ynx(8),Ee.SDv(9,5),Ee.BQk(),Ee.qZA(),Ee.TgZ(10,"button",6),Ee.NdJ("click",function(){return t.downloadBoardSetObz()}),Ee.TgZ(11,"mat-icon"),Ee._uU(12,"save_alt"),Ee.qZA(),Ee.ynx(13),Ee.SDv(14,7),Ee.BQk(),Ee.qZA(),Ee._UZ(15,"mat-divider"),Ee.TgZ(16,"button",4),Ee.NdJ("click",function(){return t.deleteBoardSet(t.boardSet)}),Ee.TgZ(17,"mat-icon"),Ee._uU(18,"delete"),Ee.qZA(),Ee.ynx(19),Ee.SDv(20,8),Ee.BQk(),Ee.qZA(),Ee.TgZ(21,"button",4),Ee.NdJ("click",function(){return t.editBoardSet()}),Ee.TgZ(22,"mat-icon"),Ee._uU(23,"edit"),Ee.qZA(),Ee.ynx(24),Ee.SDv(25,9),Ee.BQk(),Ee.qZA(),Ee.qZA(),Ee._UZ(26,"hotkeys-cheatsheet",10)),2&e&&(Ee.Q6J("ngIf",t.loading),Ee.xp6(1),Ee.Q6J("ngIf",t.loadingError),Ee.xp6(1),Ee.Q6J("ngIf",t.boardSet),Ee.xp6(3),Ee.Q6J("disabled",null==t.boardSet?null:t.boardSet.readonly),Ee.xp6(11),Ee.Q6J("disabled",null==t.boardSet?null:t.boardSet.readonly),Ee.xp6(5),Ee.Q6J("disabled",null==t.boardSet?null:t.boardSet.readonly))},directives:[Je.O5,Nt.VK,Nt.OP,je.Hw,Lt.d,Ne.XM,_t.W,_a,wa.TM,wa.JX,He.xw,He.yH,He.Wh,Re.lW,Dt.gM,Nt.p6,wa.Rh,Fa,Ht,xa],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;top:4rem;bottom:0;left:0;right:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.example-is-mobile[_ngcontent-%COMP%]   .example-sidenav-container[_ngcontent-%COMP%]{flex:1 0 auto}mat-sidenav#leftSidebar[_ngcontent-%COMP%]{max-width:250px;box-sizing:content-box}mat-sidenav#cellEditor[_ngcontent-%COMP%]{width:355px}app-board-tree[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}app-board-tree[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;margin-left:1px;border-left:1px solid #fff}app-board-tree[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#bbb}app-board-tree[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#888}mat-sidenav-content[_ngcontent-%COMP%]{padding:1rem}#leftSidebarBottomPanel[_ngcontent-%COMP%], #leftSidebarHeaderPanel[_ngcontent-%COMP%]{background-color:#bae1ff}#leftSidebarBottomPanel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], #leftSidebarHeaderPanel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin:16px 21px 16px 16px}#leftSidebarBottomPanel[_ngcontent-%COMP%]{max-width:249px}#leftSidebarHeaderPanel[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;max-width:250px}#leftSidebarHeaderPanel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;padding-right:16px}.board-toolbar[_ngcontent-%COMP%]{margin:8px 0}#leftSidebarBottomPanel[_ngcontent-%COMP%]{box-shadow:0 -2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12);text-align:right}#leftSidebarBottomPanel[_ngcontent-%COMP%], #leftSidebarToggler[_ngcontent-%COMP%]{z-index:2}#leftSidebarBottomPanel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], #leftSidebarToggler[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;top:-2px}#leftSidebarToggler[_ngcontent-%COMP%]{padding:16px;bottom:0;display:flex;overflow:hidden;position:absolute;left:0}#leftSidebarToggler[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transition:all .5s}#leftSidebarToggler.open[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{transform:scaleX(-1)}#leftSidebarToggler.open[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#006aba}#boardSetName[_ngcontent-%COMP%]{max-width:10vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.read-only[_ngcontent-%COMP%]{color:#666;text-transform:uppercase;margin-top:.5rem}"]}),e}(),Xa=Ie(37112),Ka=Ie(75425),eo=Ie(23695),to=Ie(27853);Ie(19861),Ie(26136),Ie(97388);var ao,oo=function(){var e=function e(){De(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ee.oAB({type:e}),e.\u0275inj=Ee.cJS({}),e}(),no=function(){var e=function e(){De(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ee.oAB({type:e}),e.\u0275inj=Ee.cJS({imports:[[oo,gt.si,gt.BQ,to.Q8],oo,gt.BQ]}),e}(),io=Ie(40994),ro=Ie(19936),co=[{path:"",component:Ga,pathMatch:"full"},{path:"pdf",loadChildren:function(){return Ie.e(555).then(Ie.bind(Ie,98555)).then(function(e){return e.PdfModule})}}],lo=((ao=function e(){De(this,e)}).\u0275fac=function(e){return new(e||ao)},ao.\u0275mod=Ee.oAB({type:ao}),ao.\u0275inj=Ee.cJS({imports:[[Je.ez,Ct.Bz.forChild(co),ea.To,Kt.Nh,je.Ps,He.ae,Re.ot,ft.lN,ht.LD,Xa.g0,Dt.AV,Nt.Un,wa.SJ,Nt.Tx,Lt.t,Qt.ie,Ka.m,ca.QW,pt.c,mt.u5,Ve.Cq,Ta.N6,$e.Is,Fe._t,eo.KP,It.dp,no,io.p9,Ne.mb,ro.be,Xt.yz]]}),ao)}}])}();